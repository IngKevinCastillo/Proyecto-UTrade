û
kC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Utilidad\Respuesta.cs
	namespace 	
API
 
. 
Utilidad 
{ 
public 

class 
	Respuesta 
< 
T 
> 
{ 
public 
bool 
estado 
{ 
get  
;  !
set" %
;% &
}' (
public 
T 
Valor 
{ 
get 
; 
set !
;! "
}# $
public 
string 
mgs 
{ 
get 
;  
set! $
;$ %
}& '
} 
}		 î
`C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Program.cs
	namespace-- 	
API--
 
{.. 
public// 

class// 
Program// 
{00 
public11 
static11 
void11 
Main11 
(11  
string11  &
[11& '
]11' (
args11) -
)11- .
{22 	
var33 
builder33 
=33 
WebApplication33 (
.33( )
CreateBuilder33) 6
(336 7
args337 ;
)33; <
;33< =
builder55 
.55 
Services55 
.55 
AddControllers55 +
(55+ ,
)55, -
;55- .
builder66 
.66 
Services66 
.66 

AddSignalR66 '
(66' (
)66( )
;66) *
builder77 
.77 
Services77 
.77 #
AddEndpointsApiExplorer77 4
(774 5
)775 6
;776 7
builder88 
.88 
Services88 
.88 
AddSwaggerGen88 *
(88* +
)88+ ,
;88, -
builder:: 
.:: 
Services:: 
.:: 
AddCors:: $
(::$ %
options::% ,
=>::- /
{;; 
options<< 
.<< 
	AddPolicy<< !
(<<! "
$str<<" 1
,<<1 2
policy<<3 9
=><<: <
{== 
policy>> 
.>> 
WithOrigins>> &
(>>& '
$str>>' >
)>>> ?
.?? 
AllowAnyHeader?? )
(??) *
)??* +
.@@ 
AllowAnyMethod@@ )
(@@) *
)@@* +
.AA 
AllowCredentialsAA +
(AA+ ,
)AA, -
;AA- .
}BB 
)BB 
;BB 
}CC 
)CC 
;CC 
builderEE 
.EE 
ServicesEE 
.EE  
InyectarDependenciasEE 1
(EE1 2
builderEE2 9
.EE9 :
ConfigurationEE: G
)EEG H
;EEH I
varGG 
appGG 
=GG 
builderGG 
.GG 
BuildGG #
(GG# $
)GG$ %
;GG% &
ifII 
(II 
appII 
.II 
EnvironmentII 
.II  
IsDevelopmentII  -
(II- .
)II. /
)II/ 0
{JJ 
appKK 
.KK 

UseSwaggerKK 
(KK 
)KK  
;KK  !
appLL 
.LL 
UseSwaggerUILL  
(LL  !
)LL! "
;LL" #
}MM 
appOO 
.OO 
UseCorsOO 
(OO 
$strOO '
)OO' (
;OO( )
appQQ 
.QQ 
UseAuthorizationQQ  
(QQ  !
)QQ! "
;QQ" #
appSS 
.SS 
MapControllersSS 
(SS 
)SS  
;SS  !
appUU 
.UU 
MapHubUU 
<UU 
MensajesHubUU "
>UU" #
(UU# $
$strUU$ 2
)UU2 3
;UU3 4
appWW 
.WW 
RunWW 
(WW 
)WW 
;WW 
}XX 	
}YY 
}ZZ ˘
iC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Hubs\MensajesHub.cs
	namespace 	
API
 
. 
Hubs 
{ 
public 

class 
MensajesHub 
: 
Hub "
{ 
public 
async 
Task 
UnirseAlChat &
(& '
string' -
chatId. 4
)4 5
{ 	
await		 
Groups		 
.		 
AddToGroupAsync		 (
(		( )
Context		) 0
.		0 1
ConnectionId		1 =
,		= >
chatId		? E
)		E F
;		F G
}

 	
public 
async 
Task 
SalirDelChat &
(& '
string' -
chatId. 4
)4 5
{ 	
await 
Groups 
.  
RemoveFromGroupAsync -
(- .
Context. 5
.5 6
ConnectionId6 B
,B C
chatIdD J
)J K
;K L
} 	
public 
async 
Task 
EnviarMensajeAChat ,
(, -
string- 3
chatId4 :
,: ;
object< B
mensajeC J
)J K
{ 	
await 
Clients 
. 
Group 
(  
chatId  &
)& '
.' (
	SendAsync( 1
(1 2
$str2 B
,B C
mensajeD K
)K L
;L M
} 	
} 
} €*
{C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\VerificacionController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class "
VerificacionController '
:( )
ControllerBase* 8
{ 
private 
readonly 
IRegistroServicio *
_registroServicio+ <
;< =
public "
VerificacionController %
(% &
IRegistroServicio& 7
registroServicio8 H
)H I
{ 	
_registroServicio 
= 
registroServicio  0
;0 1
} 	
[ 	
HttpPost	 
] 
[ 	
Route	 
( 
$str )
)) *
]* +
public 
async 
Task 
< 
IActionResult '
>' ($
EnviarCorreoVerificacion) A
(A B
[B C
FromBodyC K
]K L'
EnviarCorreoVerificacionDTOM h
datosi n
)n o
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
bool$ (
>( )
() *
)* +
;+ ,
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_registroServicio" 3
.3 4$
EnviarCorreoVerificacion4 L
(L M
datosM R
)R S
;S T
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp   
.   
estado   
=   
false   "
;  " #
rsp!! 
.!! 
mgs!! 
=!! 
ex!! 
.!! 
Message!! $
;!!$ %
}"" 
return## 
Ok## 
(## 
rsp## 
)## 
;## 
}$$ 	
[&& 	
HttpPost&&	 
]&& 
['' 	
Route''	 
('' 
$str'' &
)''& '
]''' (
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (!
GenerarCodigoRegistro(() >
(((> ?
[((? @
FromBody((@ H
]((H I
DateTime((J R
fechaNacimiento((S b
)((b c
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $
string**$ *
>*** +
(**+ ,
)**, -
;**- .
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !
_registroServicio.." 3
...3 4!
GenerarCodigoRegistro..4 I
(..I J
fechaNacimiento..J Y
)..Y Z
;..Z [
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 &
)99& '
]99' (
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (!
ValidarCodigoRegistro::) >
(::> ?
[::? @
FromBody::@ H
]::H I!
CodigoVerificacionDTO::J _
dto::` c
)::c d
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $
bool<<$ (
><<( )
(<<) *
)<<* +
;<<+ ,
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !
_registroServicio@@" 3
.@@3 4!
ValidarCodigoRegistro@@4 I
(@@I J
dto@@J M
.@@M N
CodigoRegistro@@N \
,@@\ ]
dto@@^ a
.@@a b
CodigoRecibido@@b p
)@@p q
;@@q r
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
}JJ 
}KK ´>
zC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\TipoReporteController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class !
TipoReporteController &
:' (
ControllerBase) 7
{ 
private 
readonly  
ITipoReporteServicio - 
_tipoReporteServicio. B
;B C
public !
TipoReporteController $
($ % 
ITipoReporteServicio% 9
tipoReporteServicio: M
)M N
{ 	 
_tipoReporteServicio  
=! "
tipoReporteServicio# 6
;6 7
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
TiposReporteDTO) 8
>8 9
>9 :
(: ;
); <
;< =
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await ! 
_tipoReporteServicio" 6
.6 7
Listar7 =
(= >
)> ?
;? @
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
TiposReporteDTO))$ 3
>))3 4
())4 5
)))5 6
;))6 7
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- ! 
_tipoReporteServicio--" 6
.--6 7
Buscar--7 =
(--= >
id--> @
)--@ A
;--A B
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
TiposReporteDTO99< K
tipoReporte99L W
)99W X
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
TiposReporteDTO;;$ 3
>;;3 4
(;;4 5
);;5 6
;;;6 7
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? ! 
_tipoReporteServicio??" 6
.??6 7
Crear??7 <
(??< =
tipoReporte??= H
)??H I
;??I J
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
TiposReporteDTOKK; J
tipoReporteKKK V
)KKV W
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ ! 
_tipoReporteServicioQQ" 6
.QQ6 7
EditarQQ7 =
(QQ= >
tipoReporteQQ> I
)QQI J
;QQJ K
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc ! 
_tipoReporteServiciocc" 6
.cc6 7
Eliminarcc7 ?
(cc? @
idcc@ B
)ccB C
;ccC D
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm è>
yC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\TipoAccionController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class  
TipoAccionController %
:& '
ControllerBase( 6
{ 
private 
readonly 
ITipoAccionServicio ,
_tipoAccionServicio- @
;@ A
public  
TipoAccionController #
(# $
ITipoAccionServicio$ 7
tipoAccionServicio8 J
)J K
{ 	
_tipoAccionServicio 
=  !
tipoAccionServicio" 4
;4 5
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
TipoAccionDTO) 6
>6 7
>7 8
(8 9
)9 :
;: ;
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_tipoAccionServicio" 5
.5 6
Listar6 <
(< =
)= >
;> ?
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
TipoAccionDTO))$ 1
>))1 2
())2 3
)))3 4
;))4 5
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !
_tipoAccionServicio--" 5
.--5 6
Buscar--6 <
(--< =
id--= ?
)--? @
;--@ A
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
TipoAccionDTO99< I

tipoAccion99J T
)99T U
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
TipoAccionDTO;;$ 1
>;;1 2
(;;2 3
);;3 4
;;;4 5
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !
_tipoAccionServicio??" 5
.??5 6
Crear??6 ;
(??; <

tipoAccion??< F
)??F G
;??G H
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
TipoAccionDTOKK; H

tipoAccionKKI S
)KKS T
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !
_tipoAccionServicioQQ" 5
.QQ5 6
EditarQQ6 <
(QQ< =

tipoAccionQQ= G
)QQG H
;QQH I
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !
_tipoAccionServiciocc" 5
.cc5 6
Eliminarcc6 >
(cc> ?
idcc? A
)ccA B
;ccB C
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm Ó<
rC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\RolController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
RolController 
:  
ControllerBase! /
{ 
private 
readonly 
IRolServicio %
_rolServicio& 2
;2 3
public 
RolController 
( 
IRolServicio )
rolServicio* 5
)5 6
{ 	
_rolServicio 
= 
rolServicio &
;& '
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
RolDTO) /
>/ 0
>0 1
(1 2
)2 3
;3 4
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_rolServicio" .
.. /
Listar/ 5
(5 6
)6 7
;7 8
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
RolDTO))$ *
>))* +
())+ ,
))), -
;))- .
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !
_rolServicio--" .
.--. /
Buscar--/ 5
(--5 6
id--6 8
)--8 9
;--9 :
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
RolDTO99< B
rol99C F
)99F G
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
RolDTO;;$ *
>;;* +
(;;+ ,
);;, -
;;;- .
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !
_rolServicio??" .
.??. /
Crear??/ 4
(??4 5
rol??5 8
)??8 9
;??9 :
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
RolDTOKK; A
rolKKB E
)KKE F
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !
_rolServicioQQ" .
.QQ. /
EditarQQ/ 5
(QQ5 6
rolQQ6 9
)QQ9 :
;QQ: ;
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !
_rolServiciocc" .
.cc. /
Eliminarcc/ 7
(cc7 8
idcc8 :
)cc: ;
;cc; <
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm øb
vC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\ReseniaController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
ReseniaController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IReseniaServicio )
_reseniaServicio* :
;: ;
public 
ReseniaController  
(  !
IReseniaServicio! 1
reseniaServicio2 A
)A B
{ 	
_reseniaServicio 
= 
reseniaServicio .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )

Rese√±aDTO) 2
>2 3
>3 4
(4 5
)5 6
;6 7
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_reseniaServicio" 2
.2 3
Listar3 9
(9 :
): ;
;; <
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $

Rese√±aDTO))$ -
>))- .
()). /
)))/ 0
;))0 1
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !
_reseniaServicio--" 2
.--2 3
Buscar--3 9
(--9 :
id--: <
)--< =
;--= >
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;

Rese√±aDTO99< E
resenia99F M
)99M N
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $

Rese√±aDTO;;$ -
>;;- .
(;;. /
);;/ 0
;;;0 1
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !
_reseniaServicio??" 2
.??2 3
Crear??3 8
(??8 9
resenia??9 @
)??@ A
;??A B
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :

Rese√±aDTOKK; D
reseniaKKE L
)KKL M
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !
_reseniaServicioQQ" 2
.QQ2 3
EditarQQ3 9
(QQ9 :
reseniaQQ: A
)QQA B
;QQB C
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !
_reseniaServiciocc" 2
.cc2 3
Eliminarcc3 ;
(cc; <
idcc< >
)cc> ?
;cc? @
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
[mm 	
HttpGetmm	 
]mm 
[nn 	
Routenn	 
(nn 
$strnn 5
)nn5 6
]nn6 7
publicoo 
asyncoo 
Taskoo 
<oo 
IActionResultoo '
>oo' ( 
ListarPorPublicacionoo) =
(oo= >
stringoo> D
idPublicacionooE R
)ooR S
{pp 	
varqq 
rspqq 
=qq 
newqq 
	Respuestaqq #
<qq# $
Listqq$ (
<qq( )

Rese√±aDTOqq) 2
>qq2 3
>qq3 4
(qq4 5
)qq5 6
;qq6 7
tryrr 
{ss 
rsptt 
.tt 
estadott 
=tt 
truett !
;tt! "
rspuu 
.uu 
Valoruu 
=uu 
awaituu !
_reseniaServiciouu" 2
.uu2 3 
ListarPorPublicacionuu3 G
(uuG H
idPublicacionuuH U
)uuU V
;uuV W
}vv 
catchww 
(ww 
	Exceptionww 
exww 
)ww  
{xx 
rspyy 
.yy 
estadoyy 
=yy 
falseyy "
;yy" #
rspzz 
.zz 
mgszz 
=zz 
exzz 
.zz 
Messagezz $
;zz$ %
}{{ 
return|| 
Ok|| 
(|| 
rsp|| 
)|| 
;|| 
}}} 	
[ 	
HttpGet	 
] 
[
ÄÄ 	
Route
ÄÄ	 
(
ÄÄ 
$str
ÄÄ -
)
ÄÄ- .
]
ÄÄ. /
public
ÅÅ 
async
ÅÅ 
Task
ÅÅ 
<
ÅÅ 
IActionResult
ÅÅ '
>
ÅÅ' (
ListarPorPersona
ÅÅ) 9
(
ÅÅ9 :
string
ÅÅ: @
	idPersona
ÅÅA J
)
ÅÅJ K
{
ÇÇ 	
var
ÉÉ 
rsp
ÉÉ 
=
ÉÉ 
new
ÉÉ 
	Respuesta
ÉÉ #
<
ÉÉ# $
List
ÉÉ$ (
<
ÉÉ( )

Rese√±aDTO
ÉÉ) 2
>
ÉÉ2 3
>
ÉÉ3 4
(
ÉÉ4 5
)
ÉÉ5 6
;
ÉÉ6 7
try
ÑÑ 
{
ÖÖ 
rsp
ÜÜ 
.
ÜÜ 
estado
ÜÜ 
=
ÜÜ 
true
ÜÜ !
;
ÜÜ! "
rsp
áá 
.
áá 
Valor
áá 
=
áá 
await
áá !
_reseniaServicio
áá" 2
.
áá2 3
ListarPorPersona
áá3 C
(
ááC D
	idPersona
ááD M
)
ááM N
;
ááN O
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 
rsp
ãã 
.
ãã 
estado
ãã 
=
ãã 
false
ãã "
;
ãã" #
rsp
åå 
.
åå 
mgs
åå 
=
åå 
ex
åå 
.
åå 
Message
åå $
;
åå$ %
}
çç 
return
éé 
Ok
éé 
(
éé 
rsp
éé 
)
éé 
;
éé 
}
èè 	
[
ëë 	
HttpGet
ëë	 
]
ëë 
[
íí 	
Route
íí	 
(
íí 
$str
íí 5
)
íí5 6
]
íí6 7
public
ìì 
async
ìì 
Task
ìì 
<
ìì 
IActionResult
ìì '
>
ìì' (#
ListarPorCalificacion
ìì) >
(
ìì> ?
int
ìì? B
calificacion
ììC O
)
ììO P
{
îî 	
var
ïï 
rsp
ïï 
=
ïï 
new
ïï 
	Respuesta
ïï #
<
ïï# $
List
ïï$ (
<
ïï( )

Rese√±aDTO
ïï) 2
>
ïï2 3
>
ïï3 4
(
ïï4 5
)
ïï5 6
;
ïï6 7
try
ññ 
{
óó 
rsp
òò 
.
òò 
estado
òò 
=
òò 
true
òò !
;
òò! "
rsp
ôô 
.
ôô 
Valor
ôô 
=
ôô 
await
ôô !
_reseniaServicio
ôô" 2
.
ôô2 3#
ListarPorCalificacion
ôô3 H
(
ôôH I
calificacion
ôôI U
)
ôôU V
;
ôôV W
}
öö 
catch
õõ 
(
õõ 
	Exception
õõ 
ex
õõ 
)
õõ  
{
úú 
rsp
ùù 
.
ùù 
estado
ùù 
=
ùù 
false
ùù "
;
ùù" #
rsp
ûû 
.
ûû 
mgs
ûû 
=
ûû 
ex
ûû 
.
ûû 
Message
ûû $
;
ûû$ %
}
üü 
return
†† 
Ok
†† 
(
†† 
rsp
†† 
)
†† 
;
†† 
}
°° 	
}
¢¢ 
}££ ¸2
vC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\ReporteController.cs
	namespace 	
API
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
ReporteController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IReporteServicio )
_reporteServicio* :
;: ;
public 
ReporteController  
(  !
IReporteServicio! 1
reporteServicio2 A
)A B
{ 	
_reporteServicio 
= 
reporteServicio .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
ReportesDTO) 4
>4 5
>5 6
(6 7
)7 8
;8 9
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_reporteServicio" 2
.2 3
Listar3 9
(9 :
): ;
;; <
} 
catch 
( 
	Exception 
ex 
)  
{   
rsp!! 
.!! 
estado!! 
=!! 
false!! "
;!!" #
rsp"" 
."" 
mgs"" 
="" 
ex"" 
."" 
Message"" $
;""$ %
}## 
return$$ 
Ok$$ 
($$ 
rsp$$ 
)$$ 
;$$ 
}%% 	
['' 	
HttpGet''	 
]'' 
[(( 	
Route((	 
((( 
$str(( 
)(( 
](( 
public)) 
async)) 
Task)) 
<)) 
IActionResult)) '
>))' (
Buscar))) /
())/ 0
string))0 6
id))7 9
)))9 :
{** 	
var++ 
rsp++ 
=++ 
new++ 
	Respuesta++ #
<++# $
ReportesDTO++$ /
>++/ 0
(++0 1
)++1 2
;++2 3
try,, 
{-- 
rsp.. 
... 
estado.. 
=.. 
true.. !
;..! "
rsp// 
.// 
Valor// 
=// 
await// !
_reporteServicio//" 2
.//2 3
ObtenerPorId//3 ?
(//? @
id//@ B
)//B C
;//C D
}00 
catch11 
(11 
	Exception11 
ex11 
)11  
{22 
rsp33 
.33 
estado33 
=33 
false33 "
;33" #
rsp44 
.44 
mgs44 
=44 
ex44 
.44 
Message44 $
;44$ %
}55 
return66 
Ok66 
(66 
rsp66 
)66 
;66 
}77 	
[99 	
HttpPost99	 
]99 
[:: 	
Route::	 
(:: 
$str:: 
):: 
]:: 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Guardar;;) 0
(;;0 1
[;;1 2
FromBody;;2 :
];;: ;
ReportesDTO;;< G
reporte;;H O
);;O P
{<< 	
var== 
rsp== 
=== 
new== 
	Respuesta== #
<==# $
ReportesDTO==$ /
>==/ 0
(==0 1
)==1 2
;==2 3
try>> 
{?? 
rsp@@ 
.@@ 
estado@@ 
=@@ 
true@@ !
;@@! "
rspAA 
.AA 
ValorAA 
=AA 
awaitAA !
_reporteServicioAA" 2
.AA2 3
CrearAA3 8
(AA8 9
reporteAA9 @
)AA@ A
;AAA B
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
rspEE 
.EE 
estadoEE 
=EE 
falseEE "
;EE" #
rspFF 
.FF 
mgsFF 
=FF 
exFF 
.FF 
MessageFF $
;FF$ %
}GG 
returnHH 
OkHH 
(HH 
rspHH 
)HH 
;HH 
}II 	
[KK 	
HttpPutKK	 
]KK 
[LL 	
RouteLL	 
(LL 
$strLL 
)LL 
]LL 
publicMM 
asyncMM 
TaskMM 
<MM 
IActionResultMM '
>MM' (
EditarMM) /
(MM/ 0
[MM0 1
FromBodyMM1 9
]MM9 :
ReportesDTOMM; F
reporteMMG N
)MMN O
{NN 	
varOO 
rspOO 
=OO 
newOO 
	RespuestaOO #
<OO# $
boolOO$ (
>OO( )
(OO) *
)OO* +
;OO+ ,
tryPP 
{QQ 
rspRR 
.RR 
estadoRR 
=RR 
trueRR !
;RR! "
rspSS 
.SS 
ValorSS 
=SS 
awaitSS !
_reporteServicioSS" 2
.SS2 3

ActualizarSS3 =
(SS= >
reporteSS> E
)SSE F
;SSF G
}TT 
catchUU 
(UU 
	ExceptionUU 
exUU 
)UU  
{VV 
rspWW 
.WW 
estadoWW 
=WW 
falseWW "
;WW" #
rspXX 
.XX 
mgsXX 
=XX 
exXX 
.XX 
MessageXX $
;XX$ %
}YY 
returnZZ 
OkZZ 
(ZZ 
rspZZ 
)ZZ 
;ZZ 
}[[ 	
}^^ 
}__ æ=
vC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\RazonesController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
RazonesController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IRazonServicio '
_razonesServicio( 8
;8 9
public 
RazonesController  
(  !
IRazonServicio! /
razonesServicio0 ?
)? @
{ 	
_razonesServicio 
= 
razonesServicio .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )

RazonesDTO) 3
>3 4
>4 5
(5 6
)6 7
;7 8
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_razonesServicio" 2
.2 3
Listar3 9
(9 :
): ;
;; <
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[&& 	
HttpPost&&	 
]&& 
['' 	
Route''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Guardar(() 0
(((0 1
[((1 2
FromBody((2 :
]((: ;

RazonesDTO((< F
razon((G L
)((L M
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $

RazonesDTO**$ .
>**. /
(**/ 0
)**0 1
;**1 2
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !
_razonesServicio.." 2
...2 3
Crear..3 8
(..8 9
razon..9 >
)..> ?
;..? @
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpPut88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Editar::) /
(::/ 0
[::0 1
FromBody::1 9
]::9 :

RazonesDTO::; E
razon::F K
)::K L
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $
bool<<$ (
><<( )
(<<) *
)<<* +
;<<+ ,
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !
_razonesServicio@@" 2
.@@2 3
Editar@@3 9
(@@9 :
razon@@: ?
)@@? @
;@@@ A
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
[JJ 	

HttpDeleteJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK 
)KK 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (
EliminarLL) 1
(LL1 2
stringLL2 8
idLL9 ;
)LL; <
{MM 	
varNN 
rspNN 
=NN 
newNN 
	RespuestaNN #
<NN# $
boolNN$ (
>NN( )
(NN) *
)NN* +
;NN+ ,
tryOO 
{PP 
rspQQ 
.QQ 
estadoQQ 
=QQ 
trueQQ !
;QQ! "
rspRR 
.RR 
ValorRR 
=RR 
awaitRR !
_razonesServicioRR" 2
.RR2 3
EliminarRR3 ;
(RR; <
idRR< >
)RR> ?
;RR? @
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
rspVV 
.VV 
estadoVV 
=VV 
falseVV "
;VV" #
rspWW 
.WW 
mgsWW 
=WW 
exWW 
.WW 
MessageWW $
;WW$ %
}XX 
returnYY 
OkYY 
(YY 
rspYY 
)YY 
;YY 
}ZZ 	
[\\ 	
HttpGet\\	 
]\\ 
[]] 	
Route]]	 
(]] 
$str]] 
)]] 
]]] 
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
Buscar^^) /
(^^/ 0
string^^0 6
id^^7 9
)^^9 :
{__ 	
var`` 
rsp`` 
=`` 
new`` 
	Respuesta`` #
<``# $

RazonesDTO``$ .
>``. /
(``/ 0
)``0 1
;``1 2
tryaa 
{bb 
rspcc 
.cc 
estadocc 
=cc 
truecc !
;cc! "
rspdd 
.dd 
Valordd 
=dd 
awaitdd !
_razonesServiciodd" 2
.dd2 3
Buscardd3 9
(dd9 :
iddd: <
)dd< =
;dd= >
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
rsphh 
.hh 
estadohh 
=hh 
falsehh "
;hh" #
rspii 
.ii 
mgsii 
=ii 
exii 
.ii 
Messageii $
;ii$ %
}jj 
returnkk 
Okkk 
(kk 
rspkk 
)kk 
;kk 
}ll 	
}mm 
}nn Èª
|C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\PublicacionesController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class #
PublicacionesController (
:) *
ControllerBase+ 9
{ 
private 
readonly "
IPublicacionesServicio /"
_publicacionesServicio0 F
;F G
public #
PublicacionesController &
(& '"
IPublicacionesServicio' =!
publicacionesServicio> S
)S T
{ 	"
_publicacionesServicio "
=# $!
publicacionesServicio% :
;: ;
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
PublicacionesDTO) 9
>9 :
>: ;
(; <
)< =
;= >
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !"
_publicacionesServicio" 8
.8 9
Listar9 ?
(? @
)@ A
;A B
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp 
. 
mgs 
= 
ex 
. 
Message $
;$ %
}   
return!! 
Ok!! 
(!! 
rsp!! 
)!! 
;!! 
}"" 	
[$$ 	
HttpGet$$	 
]$$ 
[%% 	
Route%%	 
(%% 
$str%% 
)%% 
]%%  
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
listarActivos&&) 6
(&&6 7
)&&7 8
{'' 	
var(( 
rsp(( 
=(( 
new(( 
	Respuesta(( #
<((# $
List(($ (
<((( )
PublicacionesDTO(() 9
>((9 :
>((: ;
(((; <
)((< =
;((= >
try)) 
{** 
rsp++ 
.++ 
estado++ 
=++ 
true++ !
;++! "
rsp,, 
.,, 
Valor,, 
=,, 
await,, !"
_publicacionesServicio,," 8
.,,8 9
listarActivos,,9 F
(,,F G
),,G H
;,,H I
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
rsp00 
.00 
estado00 
=00 
false00 "
;00" #
rsp11 
.11 
mgs11 
=11 
ex11 
.11 
Message11 $
;11$ %
}22 
return33 
Ok33 
(33 
rsp33 
)33 
;33 
}44 	
[66 	
HttpGet66	 
]66 
[77 	
Route77	 
(77 
$str77 -
)77- .
]77. /
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' ((
ListarSoloConLongitudLatitud88) E
(88E F
)88F G
{99 	
var:: 
rsp:: 
=:: 
new:: 
	Respuesta:: #
<::# $
List::$ (
<::( )
PublicacionesDTO::) 9
>::9 :
>::: ;
(::; <
)::< =
;::= >
try;; 
{<< 
rsp== 
.== 
estado== 
=== 
true== !
;==! "
rsp>> 
.>> 
Valor>> 
=>> 
await>> !"
_publicacionesServicio>>" 8
.>>8 9(
ListarSoloConLongitudLatitud>>9 U
(>>U V
)>>V W
;>>W X
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
rspBB 
.BB 
estadoBB 
=BB 
falseBB "
;BB" #
rspCC 
.CC 
mgsCC 
=CC 
exCC 
.CC 
MessageCC $
;CC$ %
}DD 
returnEE 
OkEE 
(EE 
rspEE 
)EE 
;EE 
}FF 	
[HH 	
HttpGetHH	 
]HH 
[II 	
RouteII	 
(II 
$strII .
)II. /
]II/ 0
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
IActionResultJJ '
>JJ' (
BusquedaTextoJJ) 6
(JJ6 7
stringJJ7 =
textoBusquedaJJ> K
)JJK L
{KK 	
varLL 
rspLL 
=LL 
newLL 
	RespuestaLL #
<LL# $
ListLL$ (
<LL( )
PublicacionesDTOLL) 9
>LL9 :
>LL: ;
(LL; <
)LL< =
;LL= >
tryMM 
{NN 
rspOO 
.OO 
estadoOO 
=OO 
trueOO !
;OO! "
rspPP 
.PP 
ValorPP 
=PP 
awaitPP !"
_publicacionesServicioPP" 8
.PP8 9
busquedaTextoPP9 F
(PPF G
textoBusquedaPPG T
)PPT U
;PPU V
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
rspTT 
.TT 
estadoTT 
=TT 
falseTT "
;TT" #
rspUU 
.UU 
mgsUU 
=UU 
exUU 
.UU 
MessageUU $
;UU$ %
}VV 
returnWW 
OkWW 
(WW 
rspWW 
)WW 
;WW 
}XX 	
[ZZ 	
HttpGetZZ	 
]ZZ 
[[[ 	
Route[[	 
([[ 
$str[[ 
)[[ 
][[ 
public\\ 
async\\ 
Task\\ 
<\\ 
IActionResult\\ '
>\\' (
Buscar\\) /
(\\/ 0
string\\0 6
id\\7 9
)\\9 :
{]] 	
var^^ 
rsp^^ 
=^^ 
new^^ 
	Respuesta^^ #
<^^# $
PublicacionesDTO^^$ 4
>^^4 5
(^^5 6
)^^6 7
;^^7 8
try__ 
{`` 
rspaa 
.aa 
estadoaa 
=aa 
trueaa !
;aa! "
rspbb 
.bb 
Valorbb 
=bb 
awaitbb !"
_publicacionesServiciobb" 8
.bb8 9
Buscarbb9 ?
(bb? @
idbb@ B
)bbB C
;bbC D
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
rspff 
.ff 
estadoff 
=ff 
falseff "
;ff" #
rspgg 
.gg 
mgsgg 
=gg 
exgg 
.gg 
Messagegg $
;gg$ %
}hh 
returnii 
Okii 
(ii 
rspii 
)ii 
;ii 
}jj 	
[ll 	
HttpGetll	 
]ll 
[mm 	
Routemm	 
(mm 
$strmm (
)mm( )
]mm) *
publicnn 
asyncnn 
Tasknn 
<nn 
IActionResultnn '
>nn' (
ListarPorCategoriann) ;
(nn; <
stringnn< B
idnnC E
)nnE F
{oo 	
varpp 
rsppp 
=pp 
newpp 
	Respuestapp #
<pp# $
Listpp$ (
<pp( )
PublicacionesDTOpp) 9
>pp9 :
>pp: ;
(pp; <
)pp< =
;pp= >
tryqq 
{rr 
rspss 
.ss 
estadoss 
=ss 
truess !
;ss! "
rsptt 
.tt 
Valortt 
=tt 
awaittt !"
_publicacionesServiciott" 8
.tt8 9
ListarPorCategoriatt9 K
(ttK L
idttL N
)ttN O
;ttO P
}uu 
catchvv 
(vv 
	Exceptionvv 
exvv 
)vv  
{ww 
rspxx 
.xx 
estadoxx 
=xx 
falsexx "
;xx" #
rspyy 
.yy 
mgsyy 
=yy 
exyy 
.yy 
Messageyy $
;yy$ %
}zz 
return{{ 
Ok{{ 
({{ 
rsp{{ 
){{ 
;{{ 
}|| 	
[~~ 	
HttpGet~~	 
]~~ 
[ 	
Route	 
( 
$str &
)& '
]' (
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
IActionResult
ÄÄ '
>
ÄÄ' (
ListarPorUsuario
ÄÄ) 9
(
ÄÄ9 :
string
ÄÄ: @
id
ÄÄA C
)
ÄÄC D
{
ÅÅ 	
var
ÇÇ 
rsp
ÇÇ 
=
ÇÇ 
new
ÇÇ 
	Respuesta
ÇÇ #
<
ÇÇ# $
List
ÇÇ$ (
<
ÇÇ( )
PublicacionesDTO
ÇÇ) 9
>
ÇÇ9 :
>
ÇÇ: ;
(
ÇÇ; <
)
ÇÇ< =
;
ÇÇ= >
try
ÉÉ 
{
ÑÑ 
rsp
ÖÖ 
.
ÖÖ 
estado
ÖÖ 
=
ÖÖ 
true
ÖÖ !
;
ÖÖ! "
rsp
ÜÜ 
.
ÜÜ 
Valor
ÜÜ 
=
ÜÜ 
await
ÜÜ !$
_publicacionesServicio
ÜÜ" 8
.
ÜÜ8 9
ListarPorUsuario
ÜÜ9 I
(
ÜÜI J
id
ÜÜJ L
)
ÜÜL M
;
ÜÜM N
}
áá 
catch
àà 
(
àà 
	Exception
àà 
ex
àà 
)
àà  
{
ââ 
rsp
ää 
.
ää 
estado
ää 
=
ää 
false
ää "
;
ää" #
rsp
ãã 
.
ãã 
mgs
ãã 
=
ãã 
ex
ãã 
.
ãã 
Message
ãã $
;
ãã$ %
}
åå 
return
çç 
Ok
çç 
(
çç 
rsp
çç 
)
çç 
;
çç 
}
éé 	
[
êê 	
HttpGet
êê	 
]
êê 
[
ëë 	
Route
ëë	 
(
ëë 
$str
ëë (
)
ëë( )
]
ëë) *
public
íí 
async
íí 
Task
íí 
<
íí 
IActionResult
íí '
>
íí' ( 
FotosPublicaciones
íí) ;
(
íí; <
string
íí< B
id
ííC E
)
ííE F
{
ìì 	
var
îî 
rsp
îî 
=
îî 
new
îî 
	Respuesta
îî #
<
îî# $
List
îî$ (
<
îî( )#
FotosPublicacionesDTO
îî) >
>
îî> ?
>
îî? @
(
îî@ A
)
îîA B
;
îîB C
try
ïï 
{
ññ 
rsp
óó 
.
óó 
estado
óó 
=
óó 
true
óó !
;
óó! "
rsp
òò 
.
òò 
Valor
òò 
=
òò 
await
òò !$
_publicacionesServicio
òò" 8
.
òò8 9 
FotosPublicaciones
òò9 K
(
òòK L
id
òòL N
)
òòN O
;
òòO P
}
ôô 
catch
öö 
(
öö 
	Exception
öö 
ex
öö 
)
öö  
{
õõ 
rsp
úú 
.
úú 
estado
úú 
=
úú 
false
úú "
;
úú" #
rsp
ùù 
.
ùù 
mgs
ùù 
=
ùù 
ex
ùù 
.
ùù 
Message
ùù $
;
ùù$ %
}
ûû 
return
üü 
Ok
üü 
(
üü 
rsp
üü 
)
üü 
;
üü 
}
†† 	
[
¢¢ 	
HttpGet
¢¢	 
]
¢¢ 
[
££ 	
Route
££	 
(
££ 
$str
££ @
)
££@ A
]
££A B
public
§§ 
async
§§ 
Task
§§ 
<
§§ 
IActionResult
§§ '
>
§§' (
ListarRangoPrecio
§§) :
(
§§: ;
decimal
§§; B
precioMinimo
§§C O
,
§§O P
decimal
§§Q X
precioMaximo
§§Y e
)
§§e f
{
•• 	
var
¶¶ 
rsp
¶¶ 
=
¶¶ 
new
¶¶ 
	Respuesta
¶¶ #
<
¶¶# $
List
¶¶$ (
<
¶¶( )
PublicacionesDTO
¶¶) 9
>
¶¶9 :
>
¶¶: ;
(
¶¶; <
)
¶¶< =
;
¶¶= >
try
ßß 
{
®® 
rsp
©© 
.
©© 
estado
©© 
=
©© 
true
©© !
;
©©! "
rsp
™™ 
.
™™ 
Valor
™™ 
=
™™ 
await
™™ !$
_publicacionesServicio
™™" 8
.
™™8 9
ListarRangoPrecio
™™9 J
(
™™J K
precioMinimo
™™K W
,
™™W X
precioMaximo
™™Y e
)
™™e f
;
™™f g
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
ex
¨¨ 
)
¨¨  
{
≠≠ 
rsp
ÆÆ 
.
ÆÆ 
estado
ÆÆ 
=
ÆÆ 
false
ÆÆ "
;
ÆÆ" #
rsp
ØØ 
.
ØØ 
mgs
ØØ 
=
ØØ 
ex
ØØ 
.
ØØ 
Message
ØØ $
;
ØØ$ %
}
∞∞ 
return
±± 
Ok
±± 
(
±± 
rsp
±± 
)
±± 
;
±± 
}
≤≤ 	
[
¥¥ 	
HttpGet
¥¥	 
]
¥¥ 
[
µµ 	
Route
µµ	 
(
µµ 
$str
µµ 1
)
µµ1 2
]
µµ2 3
public
∂∂ 
async
∂∂ 
Task
∂∂ 
<
∂∂ 
IActionResult
∂∂ '
>
∂∂' (!
ListarMaxOMinPrecio
∂∂) <
(
∂∂< =
string
∂∂= C

tipoFiltro
∂∂D N
)
∂∂N O
{
∑∑ 	
var
∏∏ 
rsp
∏∏ 
=
∏∏ 
new
∏∏ 
	Respuesta
∏∏ #
<
∏∏# $
List
∏∏$ (
<
∏∏( )
PublicacionesDTO
∏∏) 9
>
∏∏9 :
>
∏∏: ;
(
∏∏; <
)
∏∏< =
;
∏∏= >
try
ππ 
{
∫∫ 
rsp
ªª 
.
ªª 
estado
ªª 
=
ªª 
true
ªª !
;
ªª! "
rsp
ºº 
.
ºº 
Valor
ºº 
=
ºº 
await
ºº !$
_publicacionesServicio
ºº" 8
.
ºº8 9!
ListarMaxOMinPrecio
ºº9 L
(
ººL M

tipoFiltro
ººM W
)
ººW X
;
ººX Y
}
ΩΩ 
catch
ææ 
(
ææ 
	Exception
ææ 
ex
ææ 
)
ææ  
{
øø 
rsp
¿¿ 
.
¿¿ 
estado
¿¿ 
=
¿¿ 
false
¿¿ "
;
¿¿" #
rsp
¡¡ 
.
¡¡ 
mgs
¡¡ 
=
¡¡ 
ex
¡¡ 
.
¡¡ 
Message
¡¡ $
;
¡¡$ %
}
¬¬ 
return
√√ 
Ok
√√ 
(
√√ 
rsp
√√ 
)
√√ 
;
√√ 
}
ƒƒ 	
[
∆∆ 	
HttpGet
∆∆	 
]
∆∆ 
[
«« 	
Route
««	 
(
«« 
$str
«« ,
)
««, -
]
««- .
public
»» 
async
»» 
Task
»» 
<
»» 
IActionResult
»» '
>
»»' (
ListarPorFecha
»») 7
(
»»7 8
string
»»8 >

tipoFiltro
»»? I
)
»»I J
{
…… 	
var
   
rsp
   
=
   
new
   
	Respuesta
   #
<
  # $
List
  $ (
<
  ( )
PublicacionesDTO
  ) 9
>
  9 :
>
  : ;
(
  ; <
)
  < =
;
  = >
try
ÀÀ 
{
ÃÃ 
rsp
ÕÕ 
.
ÕÕ 
estado
ÕÕ 
=
ÕÕ 
true
ÕÕ !
;
ÕÕ! "
rsp
ŒŒ 
.
ŒŒ 
Valor
ŒŒ 
=
ŒŒ 
await
ŒŒ !$
_publicacionesServicio
ŒŒ" 8
.
ŒŒ8 9
ListarPorFecha
ŒŒ9 G
(
ŒŒG H

tipoFiltro
ŒŒH R
)
ŒŒR S
;
ŒŒS T
}
œœ 
catch
–– 
(
–– 
	Exception
–– 
ex
–– 
)
––  
{
—— 
rsp
““ 
.
““ 
estado
““ 
=
““ 
false
““ "
;
““" #
rsp
”” 
.
”” 
mgs
”” 
=
”” 
ex
”” 
.
”” 
Message
”” $
;
””$ %
}
‘‘ 
return
’’ 
Ok
’’ 
(
’’ 
rsp
’’ 
)
’’ 
;
’’ 
}
÷÷ 	
[
ÿÿ 	
HttpPost
ÿÿ	 
]
ÿÿ 
[
ŸŸ 	
Route
ŸŸ	 
(
ŸŸ 
$str
ŸŸ 
)
ŸŸ 
]
ŸŸ 
public
⁄⁄ 
async
⁄⁄ 
Task
⁄⁄ 
<
⁄⁄ 
IActionResult
⁄⁄ '
>
⁄⁄' (
Guardar
⁄⁄) 0
(
⁄⁄0 1
[
⁄⁄1 2
FromBody
⁄⁄2 :
]
⁄⁄: ;
PublicacionesDTO
⁄⁄< L
publicaciones
⁄⁄M Z
)
⁄⁄Z [
{
€€ 	
var
‹‹ 
rsp
‹‹ 
=
‹‹ 
new
‹‹ 
	Respuesta
‹‹ #
<
‹‹# $
PublicacionesDTO
‹‹$ 4
>
‹‹4 5
(
‹‹5 6
)
‹‹6 7
;
‹‹7 8
try
›› 
{
ﬁﬁ 
rsp
ﬂﬂ 
.
ﬂﬂ 
estado
ﬂﬂ 
=
ﬂﬂ 
true
ﬂﬂ !
;
ﬂﬂ! "
rsp
‡‡ 
.
‡‡ 
Valor
‡‡ 
=
‡‡ 
await
‡‡ !$
_publicacionesServicio
‡‡" 8
.
‡‡8 9
Crear
‡‡9 >
(
‡‡> ?
publicaciones
‡‡? L
)
‡‡L M
;
‡‡M N
}
·· 
catch
‚‚ 
(
‚‚ 
	Exception
‚‚ 
ex
‚‚ 
)
‚‚  
{
„„ 
rsp
‰‰ 
.
‰‰ 
estado
‰‰ 
=
‰‰ 
false
‰‰ "
;
‰‰" #
rsp
ÂÂ 
.
ÂÂ 
mgs
ÂÂ 
=
ÂÂ 
ex
ÂÂ 
.
ÂÂ 
Message
ÂÂ $
;
ÂÂ$ %
}
ÊÊ 
return
ÁÁ 
Ok
ÁÁ 
(
ÁÁ 
rsp
ÁÁ 
)
ÁÁ 
;
ÁÁ 
}
ËË 	
[
ÍÍ 	
HttpPut
ÍÍ	 
]
ÍÍ 
[
ÎÎ 	
Route
ÎÎ	 
(
ÎÎ 
$str
ÎÎ 
)
ÎÎ 
]
ÎÎ 
public
ÏÏ 
async
ÏÏ 
Task
ÏÏ 
<
ÏÏ 
IActionResult
ÏÏ '
>
ÏÏ' (
Editar
ÏÏ) /
(
ÏÏ/ 0
[
ÏÏ0 1
FromBody
ÏÏ1 9
]
ÏÏ9 :
PublicacionesDTO
ÏÏ; K
publicaciones
ÏÏL Y
)
ÏÏY Z
{
ÌÌ 	
var
ÓÓ 
rsp
ÓÓ 
=
ÓÓ 
new
ÓÓ 
	Respuesta
ÓÓ #
<
ÓÓ# $
bool
ÓÓ$ (
>
ÓÓ( )
(
ÓÓ) *
)
ÓÓ* +
;
ÓÓ+ ,
try
ÔÔ 
{
 
rsp
ÒÒ 
.
ÒÒ 
estado
ÒÒ 
=
ÒÒ 
true
ÒÒ !
;
ÒÒ! "
rsp
ÚÚ 
.
ÚÚ 
Valor
ÚÚ 
=
ÚÚ 
await
ÚÚ !$
_publicacionesServicio
ÚÚ" 8
.
ÚÚ8 9
Editar
ÚÚ9 ?
(
ÚÚ? @
publicaciones
ÚÚ@ M
)
ÚÚM N
;
ÚÚN O
}
ÛÛ 
catch
ÙÙ 
(
ÙÙ 
	Exception
ÙÙ 
ex
ÙÙ 
)
ÙÙ  
{
ıı 
rsp
ˆˆ 
.
ˆˆ 
estado
ˆˆ 
=
ˆˆ 
false
ˆˆ "
;
ˆˆ" #
rsp
˜˜ 
.
˜˜ 
mgs
˜˜ 
=
˜˜ 
ex
˜˜ 
.
˜˜ 
Message
˜˜ $
;
˜˜$ %
}
¯¯ 
return
˘˘ 
Ok
˘˘ 
(
˘˘ 
rsp
˘˘ 
)
˘˘ 
;
˘˘ 
}
˙˙ 	
[
¸¸ 	

HttpDelete
¸¸	 
]
¸¸ 
[
˝˝ 	
Route
˝˝	 
(
˝˝ 
$str
˝˝ 
)
˝˝ 
]
˝˝  
public
˛˛ 
async
˛˛ 
Task
˛˛ 
<
˛˛ 
IActionResult
˛˛ '
>
˛˛' (
Eliminar
˛˛) 1
(
˛˛1 2
string
˛˛2 8
id
˛˛9 ;
)
˛˛; <
{
ˇˇ 	
var
ÄÄ 
rsp
ÄÄ 
=
ÄÄ 
new
ÄÄ 
	Respuesta
ÄÄ #
<
ÄÄ# $
bool
ÄÄ$ (
>
ÄÄ( )
(
ÄÄ) *
)
ÄÄ* +
;
ÄÄ+ ,
try
ÅÅ 
{
ÇÇ 
rsp
ÉÉ 
.
ÉÉ 
estado
ÉÉ 
=
ÉÉ 
true
ÉÉ !
;
ÉÉ! "
rsp
ÑÑ 
.
ÑÑ 
Valor
ÑÑ 
=
ÑÑ 
await
ÑÑ !$
_publicacionesServicio
ÑÑ" 8
.
ÑÑ8 9
Eliminar
ÑÑ9 A
(
ÑÑA B
id
ÑÑB D
)
ÑÑD E
;
ÑÑE F
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ 
ex
ÜÜ 
)
ÜÜ  
{
áá 
rsp
àà 
.
àà 
estado
àà 
=
àà 
false
àà "
;
àà" #
rsp
ââ 
.
ââ 
mgs
ââ 
=
ââ 
ex
ââ 
.
ââ 
Message
ââ $
;
ââ$ %
}
ää 
return
ãã 
Ok
ãã 
(
ãã 
rsp
ãã 
)
ãã 
;
ãã 
}
åå 	
[
éé 	
HttpGet
éé	 
]
éé 
[
èè 	
Route
èè	 
(
èè 
$str
èè *
)
èè* +
]
èè+ ,
public
êê 
async
êê 
Task
êê 
<
êê 
IActionResult
êê '
>
êê' ('
ObtenerIdNuevaPublicacion
êê) B
(
êêB C
)
êêC D
{
ëë 	
var
íí 
rsp
íí 
=
íí 
new
íí 
	Respuesta
íí #
<
íí# $
string
íí$ *
>
íí* +
(
íí+ ,
)
íí, -
;
íí- .
try
ìì 
{
îî 
rsp
ïï 
.
ïï 
estado
ïï 
=
ïï 
true
ïï !
;
ïï! "
rsp
ññ 
.
ññ 
Valor
ññ 
=
ññ 
await
ññ !$
_publicacionesServicio
ññ" 8
.
ññ8 9'
ObtenerIdNuevaPublicacion
ññ9 R
(
ññR S
)
ññS T
;
ññT U
}
óó 
catch
òò 
(
òò 
	Exception
òò 
ex
òò 
)
òò  
{
ôô 
rsp
öö 
.
öö 
estado
öö 
=
öö 
false
öö "
;
öö" #
rsp
õõ 
.
õõ 
mgs
õõ 
=
õõ 
ex
õõ 
.
õõ 
Message
õõ $
;
õõ$ %
}
úú 
return
ùù 
Ok
ùù 
(
ùù 
rsp
ùù 
)
ùù 
;
ùù 
}
ûû 	
}
üü 
}†† ¨b
vC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\PersonaController.cs
	namespace 	
API
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
PersonaController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IPersonaServicio )
_personaServicio* :
;: ;
public 
PersonaController  
(  !
IPersonaServicio! 1
personaServicio2 A
)A B
{ 	
_personaServicio 
= 
personaServicio .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )

PersonaDTO) 3
>3 4
>4 5
(5 6
)6 7
;7 8
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_personaServicio" 2
.2 3
Listar3 9
(9 :
): ;
;; <
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp   
.   
estado   
=   
false   "
;  " #
rsp!! 
.!! 
mgs!! 
=!! 
ex!! 
.!! 
Message!! $
;!!$ %
}"" 
return## 
Ok## 
(## 
rsp## 
)## 
;## 
}$$ 	
[&& 	
HttpPost&&	 
]&& 
['' 	
Route''	 
('' 
$str'' 
)'' 
]''  
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
IniciarSesion(() 6
(((6 7
[((7 8
FromBody((8 @
]((@ A
LoginDTO((B J
login((K P
)((P Q
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $
	SesionDTO**$ -
>**- .
(**. /
)**/ 0
;**0 1
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !
_personaServicio.." 2
...2 3
ValidarCredenciales..3 F
(..F G
login..G L
...L M
Correo..M S
,..S T
login..U Z
...Z [
Telefono..[ c
,..c d
login..e j
...j k
Contrase√±a..k u
)..u v
;..v w
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Guardar::) 0
(::0 1
[::1 2
FromBody::2 :
]::: ;

PersonaDTO::< F
persona::G N
)::N O
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $

PersonaDTO<<$ .
><<. /
(<</ 0
)<<0 1
;<<1 2
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !
_personaServicio@@" 2
.@@2 3
Crear@@3 8
(@@8 9
persona@@9 @
)@@@ A
;@@A B
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
[JJ 	
HttpPutJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK 
)KK 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (
EditarLL) /
(LL/ 0
[LL0 1
FromBodyLL1 9
]LL9 :

PersonaDTOLL; E
personaLLF M
)LLM N
{MM 	
varNN 
rspNN 
=NN 
newNN 
	RespuestaNN #
<NN# $
boolNN$ (
>NN( )
(NN) *
)NN* +
;NN+ ,
tryOO 
{PP 
rspQQ 
.QQ 
estadoQQ 
=QQ 
trueQQ !
;QQ! "
rspRR 
.RR 
ValorRR 
=RR 
awaitRR !
_personaServicioRR" 2
.RR2 3
EditarRR3 9
(RR9 :
personaRR: A
)RRA B
;RRB C
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
rspVV 
.VV 
estadoVV 
=VV 
falseVV "
;VV" #
rspWW 
.WW 
mgsWW 
=WW 
exWW 
.WW 
MessageWW $
;WW$ %
}XX 
returnYY 
OkYY 
(YY 
rspYY 
)YY 
;YY 
}ZZ 	
[\\ 	

HttpDelete\\	 
]\\ 
[]] 	
Route]]	 
(]] 
$str]] 
)]] 
]]]  
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
Eliminar^^) 1
(^^1 2
string^^2 8
id^^9 ;
)^^; <
{__ 	
var`` 
rsp`` 
=`` 
new`` 
	Respuesta`` #
<``# $
bool``$ (
>``( )
(``) *
)``* +
;``+ ,
tryaa 
{bb 
rspcc 
.cc 
estadocc 
=cc 
truecc !
;cc! "
rspdd 
.dd 
Valordd 
=dd 
awaitdd !
_personaServiciodd" 2
.dd2 3
Eliminardd3 ;
(dd; <
iddd< >
)dd> ?
;dd? @
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
rsphh 
.hh 
estadohh 
=hh 
falsehh "
;hh" #
rspii 
.ii 
mgsii 
=ii 
exii 
.ii 
Messageii $
;ii$ %
}jj 
returnkk 
Okkk 
(kk 
rspkk 
)kk 
;kk 
}ll 	
[nn 	
HttpGetnn	 
]nn 
[oo 	
Routeoo	 
(oo 
$stroo 
)oo 
]oo 
publicpp 
asyncpp 
Taskpp 
<pp 
IActionResultpp '
>pp' (
Obtenerpp) 0
(pp0 1
stringpp1 7
idpp8 :
)pp: ;
{qq 	
varrr 
rsprr 
=rr 
newrr 
	Respuestarr #
<rr# $

PersonaDTOrr$ .
>rr. /
(rr/ 0
)rr0 1
;rr1 2
tryss 
{tt 
rspuu 
.uu 
estadouu 
=uu 
trueuu !
;uu! "
rspvv 
.vv 
Valorvv 
=vv 
awaitvv !
_personaServiciovv" 2
.vv2 3
Obtenervv3 :
(vv: ;
idvv; =
)vv= >
;vv> ?
}ww 
catchxx 
(xx 
	Exceptionxx 
exxx 
)xx  
{yy 
rspzz 
.zz 
estadozz 
=zz 
falsezz "
;zz" #
rsp{{ 
.{{ 
mgs{{ 
={{ 
ex{{ 
.{{ 
Message{{ $
;{{$ %
}|| 
return}} 
Ok}} 
(}} 
rsp}} 
)}} 
;}} 
}~~ 	
[
ÄÄ 	
HttpGet
ÄÄ	 
]
ÄÄ 
[
ÅÅ 	
Route
ÅÅ	 
(
ÅÅ 
$str
ÅÅ ,
)
ÅÅ, -
]
ÅÅ- .
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
IActionResult
ÇÇ '
>
ÇÇ' (
ObtenerPorUsuario
ÇÇ) :
(
ÇÇ: ;
string
ÇÇ; A
usuario
ÇÇB I
)
ÇÇI J
{
ÉÉ 	
var
ÑÑ 
rsp
ÑÑ 
=
ÑÑ 
new
ÑÑ 
	Respuesta
ÑÑ #
<
ÑÑ# $

PersonaDTO
ÑÑ$ .
>
ÑÑ. /
(
ÑÑ/ 0
)
ÑÑ0 1
;
ÑÑ1 2
try
ÖÖ 
{
ÜÜ 
rsp
áá 
.
áá 
estado
áá 
=
áá 
true
áá !
;
áá! "
rsp
àà 
.
àà 
Valor
àà 
=
àà 
await
àà !
_personaServicio
àà" 2
.
àà2 3
ObtenerPorUsuario
àà3 D
(
ààD E
usuario
ààE L
)
ààL M
;
ààM N
}
ââ 
catch
ää 
(
ää 
	Exception
ää 
ex
ää 
)
ää  
{
ãã 
rsp
åå 
.
åå 
estado
åå 
=
åå 
false
åå "
;
åå" #
rsp
çç 
.
çç 
mgs
çç 
=
çç 
ex
çç 
.
çç 
Message
çç $
;
çç$ %
}
éé 
return
èè 
Ok
èè 
(
èè 
rsp
èè 
)
èè 
;
èè 
}
êê 	
[
íí 	
HttpGet
íí	 
]
íí 
[
ìì 	
Route
ìì	 
(
ìì 
$str
ìì &
)
ìì& '
]
ìì' (
public
îî 
async
îî 
Task
îî 
<
îî 
IActionResult
îî '
>
îî' (#
ObtenerIdNuevoUsuario
îî) >
(
îî> ?
)
îî? @
{
ïï 	
var
ññ 
rsp
ññ 
=
ññ 
new
ññ 
	Respuesta
ññ #
<
ññ# $
string
ññ$ *
>
ññ* +
(
ññ+ ,
)
ññ, -
;
ññ- .
try
óó 
{
òò 
rsp
ôô 
.
ôô 
estado
ôô 
=
ôô 
true
ôô !
;
ôô! "
rsp
öö 
.
öö 
Valor
öö 
=
öö 
await
öö !
_personaServicio
öö" 2
.
öö2 3#
ObtenerIdNuevoUsuario
öö3 H
(
ööH I
)
ööI J
;
ööJ K
}
õõ 
catch
úú 
(
úú 
	Exception
úú 
ex
úú 
)
úú  
{
ùù 
rsp
ûû 
.
ûû 
estado
ûû 
=
ûû 
false
ûû "
;
ûû" #
rsp
üü 
.
üü 
mgs
üü 
=
üü 
ex
üü 
.
üü 
Message
üü $
;
üü$ %
}
†† 
return
°° 
Ok
°° 
(
°° 
rsp
°° 
)
°° 
;
°° 
}
££ 	
}
§§ 
}•• —*
}C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\NotificacionesController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class $
NotificacionesController )
:* +
ControllerBase, :
{ 
private 
readonly !
INotificacionServicio .#
_notificacionesServicio/ F
;F G
public $
NotificacionesController '
(' (!
INotificacionServicio( ="
notificacionesServicio> T
)T U
{ 	#
_notificacionesServicio #
=$ %"
notificacionesServicio& <
;< =
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str /
)/ 0
]0 1
public 
async 
Task 
< 
IActionResult '
>' (
ListarPorIdUsuario) ;
(; <
string< B
	idUsuarioC L
)L M
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
NotificacionesDTO) :
>: ;
>; <
(< =
)= >
;> ?
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !#
_notificacionesServicio" 9
.9 :
ListarPorIdUsuario: L
(L M
	idUsuarioM V
)V W
;W X
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpPost%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Guardar'') 0
(''0 1
[''1 2
FromBody''2 :
]'': ;
NotificacionesDTO''< M
notificacion''N Z
)''Z [
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
NotificacionesDTO))$ 5
>))5 6
())6 7
)))7 8
;))8 9
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !#
_notificacionesServicio--" 9
.--9 :
Crear--: ?
(--? @
notificacion--@ L
)--L M
;--M N
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPut77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88  
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
CambiarEstado99) 6
(996 7
[997 8
FromBody998 @
]99@ A
NotificacionesDTO99B S
notificacion99T `
,99` a
bool99b f
estado99g m
)99m n
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
bool;;$ (
>;;( )
(;;) *
);;* +
;;;+ ,
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !#
_notificacionesServicio??" 9
.??9 :
CambiarEstado??: G
(??G H
estado??H N
,??N O
notificacion??P \
)??\ ]
;??] ^
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
}HH 
}II Ÿ>
|C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\MotivoReporteController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class #
MotivoReporteController (
:) *
ControllerBase+ 9
{ 
private 
readonly "
IMotivoReporteServicio /"
_estadoReporteServicio0 F
;F G
public #
MotivoReporteController &
(& '"
IMotivoReporteServicio' =!
motivoReporteServicio> S
)S T
{ 	"
_estadoReporteServicio "
=# $!
motivoReporteServicio% :
;: ;
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
MotivosReporteDTO) :
>: ;
>; <
(< =
)= >
;> ?
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !"
_estadoReporteServicio" 8
.8 9
Listar9 ?
(? @
)@ A
;A B
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
MotivosReporteDTO))$ 5
>))5 6
())6 7
)))7 8
;))8 9
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !"
_estadoReporteServicio--" 8
.--8 9
Buscar--9 ?
(--? @
id--@ B
)--B C
;--C D
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
MotivosReporteDTO99< M
motivoReporte99N [
)99[ \
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
MotivosReporteDTO;;$ 5
>;;5 6
(;;6 7
);;7 8
;;;8 9
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !"
_estadoReporteServicio??" 8
.??8 9
Crear??9 >
(??> ?
motivoReporte??? L
)??L M
;??M N
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
MotivosReporteDTOKK; L
motivoReporteKKM Z
)KKZ [
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !"
_estadoReporteServicioQQ" 8
.QQ8 9
EditarQQ9 ?
(QQ? @
motivoReporteQQ@ M
)QQM N
;QQN O
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !"
_estadoReporteServiciocc" 8
.cc8 9
Eliminarcc9 A
(ccA B
idccB D
)ccD E
;ccE F
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm ËO
wC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\MensajesController.cs
	namespace		 	
API		
 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
MensajesController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
IMensajesServicio *
_mensajesServicio+ <
;< =
private 
readonly 
IHubContext $
<$ %
MensajesHub% 0
>0 1
_hubContext2 =
;= >
public 
MensajesController !
(! "
IMensajesServicio" 3
mensajesServicio4 D
,D E
IHubContextF Q
<Q R
MensajesHubR ]
>] ^

hubContext_ i
)i j
{ 	
_mensajesServicio 
= 
mensajesServicio  0
;0 1
_hubContext 
= 

hubContext $
;$ %
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Buscar) /
(/ 0
string0 6
id7 9
)9 :
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
MensajesDTO$ /
>/ 0
(0 1
)1 2
;2 3
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp   
.   
Valor   
=   
await   !
_mensajesServicio  " 3
.  3 4
Buscar  4 :
(  : ;
id  ; =
)  = >
;  > ?
}!! 
catch"" 
("" 
	Exception"" 
ex"" 
)""  
{## 
rsp$$ 
.$$ 
estado$$ 
=$$ 
false$$ "
;$$" #
rsp%% 
.%% 
mgs%% 
=%% 
ex%% 
.%% 
Message%% $
;%%$ %
}&& 
return'' 
Ok'' 
('' 
rsp'' 
)'' 
;'' 
}(( 	
[** 	
HttpPost**	 
]** 
[++ 	
Route++	 
(++ 
$str++ 
)++ 
]++ 
public,, 
async,, 
Task,, 
<,, 
IActionResult,, '
>,,' (
Guardar,,) 0
(,,0 1
[,,1 2
FromBody,,2 :
],,: ;
CrearMensajeDTO,,< K
mensajesDTO,,L W
),,W X
{-- 	
var.. 
rsp.. 
=.. 
new.. 
	Respuesta.. #
<..# $
MensajesDTO..$ /
>../ 0
(..0 1
)..1 2
;..2 3
try// 
{00 
var11 
mensajeCreado11 !
=11" #
await11$ )
_mensajesServicio11* ;
.11; <
Crear11< A
(11A B
mensajesDTO11B M
)11M N
;11N O
await33 
_hubContext33 !
.33! "
Clients33" )
.33) *
Group33* /
(33/ 0
mensajeCreado330 =
.33= >
ChatId33> D
)33D E
.33E F
	SendAsync33F O
(33O P
$str33P `
,33` a
mensajeCreado33b o
)33o p
;33p q
rsp55 
.55 
estado55 
=55 
true55 !
;55! "
rsp66 
.66 
Valor66 
=66 
mensajeCreado66 )
;66) *
}77 
catch88 
(88 
	Exception88 
ex88 
)88  
{99 
rsp:: 
.:: 
estado:: 
=:: 
false:: "
;::" #
rsp;; 
.;; 
mgs;; 
=;; 
ex;; 
.;; 
Message;; $
;;;$ %
}<< 
return== 
Ok== 
(== 
rsp== 
)== 
;== 
}>> 	
[@@ 	

HttpDelete@@	 
]@@ 
[AA 	
RouteAA	 
(AA 
$strAA 
)AA 
]AA  
publicBB 
asyncBB 
TaskBB 
<BB 
IActionResultBB '
>BB' (
EliminarBB) 1
(BB1 2
stringBB2 8
idBB9 ;
)BB; <
{CC 	
varDD 
rspDD 
=DD 
newDD 
	RespuestaDD #
<DD# $
boolDD$ (
>DD( )
(DD) *
)DD* +
;DD+ ,
tryEE 
{FF 
rspGG 
.GG 
estadoGG 
=GG 
trueGG !
;GG! "
rspHH 
.HH 
ValorHH 
=HH 
awaitHH !
_mensajesServicioHH" 3
.HH3 4
EliminarHH4 <
(HH< =
idHH= ?
)HH? @
;HH@ A
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
rspLL 
.LL 
estadoLL 
=LL 
falseLL "
;LL" #
rspMM 
.MM 
mgsMM 
=MM 
exMM 
.MM 
MessageMM $
;MM$ %
}NN 
returnOO 
OkOO 
(OO 
rspOO 
)OO 
;OO 
}PP 	
[RR 	
HttpGetRR	 
]RR 
[SS 	
RouteSS	 
(SS 
$strSS 
)SS 
]SS 
publicTT 
asyncTT 
TaskTT 
<TT 
IActionResultTT '
>TT' (
ListarTT) /
(TT/ 0
)TT0 1
{UU 	
varVV 
rspVV 
=VV 
newVV 
	RespuestaVV #
<VV# $
ListVV$ (
<VV( )
MensajesDTOVV) 4
>VV4 5
>VV5 6
(VV6 7
)VV7 8
;VV8 9
tryWW 
{XX 
rspYY 
.YY 
estadoYY 
=YY 
trueYY !
;YY! "
rspZZ 
.ZZ 
ValorZZ 
=ZZ 
awaitZZ !
_mensajesServicioZZ" 3
.ZZ3 4
ListarZZ4 :
(ZZ: ;
)ZZ; <
;ZZ< =
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{]] 
rsp^^ 
.^^ 
estado^^ 
=^^ 
false^^ "
;^^" #
rsp__ 
.__ 
mgs__ 
=__ 
ex__ 
.__ 
Message__ $
;__$ %
}`` 
returnaa 
Okaa 
(aa 
rspaa 
)aa 
;aa 
}bb 	
[dd 	
HttpGetdd	 
]dd 
[ee 	
Routeee	 
(ee 
$stree '
)ee' (
]ee( )
publicff 
asyncff 
Taskff 
<ff 
IActionResultff '
>ff' (
ListarPorChatff) 6
(ff6 7
stringff7 =
idChatff> D
)ffD E
{gg 	
varhh 
rsphh 
=hh 
newhh 
	Respuestahh #
<hh# $
Listhh$ (
<hh( )
MensajesDTOhh) 4
>hh4 5
>hh5 6
(hh6 7
)hh7 8
;hh8 9
tryii 
{jj 
rspkk 
.kk 
estadokk 
=kk 
truekk !
;kk! "
rspll 
.ll 
Valorll 
=ll 
awaitll !
_mensajesServicioll" 3
.ll3 4
ListarPorIdChatll4 C
(llC D
idChatllD J
)llJ K
;llK L
}mm 
catchnn 
(nn 
	Exceptionnn 
exnn 
)nn  
{oo 
rsppp 
.pp 
estadopp 
=pp 
falsepp "
;pp" #
rspqq 
.qq 
mgsqq 
=qq 
exqq 
.qq 
Messageqq $
;qq$ %
}rr 
returnss 
Okss 
(ss 
rspss 
)ss 
;ss 
}tt 	
[vv 	
HttpGetvv	 
]vv 
[ww 	
Routeww	 
(ww 
$strww 3
)ww3 4
]ww4 5
publicxx 
asyncxx 
Taskxx 
<xx 
IActionResultxx '
>xx' (%
ObtenerMensajeMasRecientexx) B
(xxB C
stringxxC I
idChatxxJ P
)xxP Q
{yy 	
varzz 
rspzz 
=zz 
newzz 
	Respuestazz #
<zz# $
MensajesDTOzz$ /
>zz/ 0
(zz0 1
)zz1 2
;zz2 3
try{{ 
{|| 
rsp}} 
.}} 
estado}} 
=}} 
true}} !
;}}! "
rsp~~ 
.~~ 
Valor~~ 
=~~ 
await~~ !
_mensajesServicio~~" 3
.~~3 4%
ObtenerMensajeMasReciente~~4 M
(~~M N
idChat~~N T
)~~T U
;~~U V
} 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ 
ex
ÄÄ 
)
ÄÄ  
{
ÅÅ 
rsp
ÇÇ 
.
ÇÇ 
estado
ÇÇ 
=
ÇÇ 
false
ÇÇ "
;
ÇÇ" #
rsp
ÉÉ 
.
ÉÉ 
mgs
ÉÉ 
=
ÉÉ 
ex
ÉÉ 
.
ÉÉ 
Message
ÉÉ $
;
ÉÉ$ %
}
ÑÑ 
return
ÖÖ 
Ok
ÖÖ 
(
ÖÖ 
rsp
ÖÖ 
)
ÖÖ 
;
ÖÖ 
}
ÜÜ 	
}
áá 
}àà ‘>
|C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\MensajeAccionController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class #
MensajeAccionController (
:) *
ControllerBase+ 9
{ 
private 
readonly "
IMensajeAccionServicio /"
_mensajeAccionServicio0 F
;F G
public #
MensajeAccionController &
(& '"
IMensajeAccionServicio' =!
mensajeAccionServicio> S
)S T
{ 	"
_mensajeAccionServicio "
=# $!
mensajeAccionServicio% :
;: ;
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
MensajeAccionDTO) 9
>9 :
>: ;
(; <
)< =
;= >
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !"
_mensajeAccionServicio" 8
.8 9
Listar9 ?
(? @
)@ A
;A B
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
MensajeAccionDTO))$ 4
>))4 5
())5 6
)))6 7
;))7 8
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !"
_mensajeAccionServicio--" 8
.--8 9
Buscar--9 ?
(--? @
id--@ B
)--B C
;--C D
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
MensajeAccionDTO99< L
mensajeAccion99M Z
)99Z [
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
MensajeAccionDTO;;$ 4
>;;4 5
(;;5 6
);;6 7
;;;7 8
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !"
_mensajeAccionServicio??" 8
.??8 9
Crear??9 >
(??> ?
mensajeAccion??? L
)??L M
;??M N
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
MensajeAccionDTOKK; K
mensajeAccionKKL Y
)KKY Z
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !"
_mensajeAccionServicioQQ" 8
.QQ8 9
EditarQQ9 ?
(QQ? @
mensajeAccionQQ@ M
)QQM N
;QQN O
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !"
_mensajeAccionServiciocc" 8
.cc8 9
Eliminarcc9 A
(ccA B
idccB D
)ccD E
;ccE F
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm ¸>
tC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\LikesController.cs
	namespace 	
API
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
LikesController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ILikesServicio '
_likesServicio( 6
;6 7
public 
LikesController 
( 
ILikesServicio -
likesServicio. ;
); <
{ 	
_likesServicio 
= 
likesServicio *
;* +
} 	
[ 	
HttpPost	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Guardar) 0
(0 1
[1 2
FromBody2 :
]: ;
LikesDTO< D
likesE J
)J K
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
LikesDTO$ ,
>, -
(- .
). /
;/ 0
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_likesServicio" 0
.0 1
Crear1 6
(6 7
likes7 <
)< =
;= >
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp   
.   
estado   
=   
false   "
;  " #
rsp!! 
.!! 
mgs!! 
=!! 
ex!! 
.!! 
Message!! $
;!!$ %
}"" 
return## 
Ok## 
(## 
rsp## 
)## 
;## 
}$$ 	
[&& 	

HttpDelete&&	 
]&& 
['' 	
Route''	 
('' 
$str'' 
)'' 
]''  
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Eliminar(() 1
(((1 2
string((2 8
id((9 ;
)((; <
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $
bool**$ (
>**( )
(**) *
)*** +
;**+ ,
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !
_likesServicio.." 0
...0 1
Eliminar..1 9
(..9 :
id..: <
)..< =
;..= >
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpGet88	 
]88 
[99 	
Route99	 
(99 
$str99 6
)996 7
]997 8
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
VerificarLike::) 6
(::6 7
string::7 =
	idResenia::> G
,::G H
string::I O
	idPersona::P Y
)::Y Z
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $
LikesDTO<<$ ,
><<, -
(<<- .
)<<. /
;<</ 0
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !
_likesServicio@@" 0
.@@0 1
VerificarLike@@1 >
(@@> ?
	idResenia@@? H
,@@H I
	idPersona@@J S
)@@S T
;@@T U
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
[JJ 	
HttpGetJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK (
)KK( )
]KK) *
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (
ContarLikesLL) 4
(LL4 5
stringLL5 ;
	idReseniaLL< E
)LLE F
{MM 	
varNN 
rspNN 
=NN 
newNN 
	RespuestaNN #
<NN# $
intNN$ '
>NN' (
(NN( )
)NN) *
;NN* +
tryOO 
{PP 
rspQQ 
.QQ 
estadoQQ 
=QQ 
trueQQ !
;QQ! "
rspRR 
.RR 
ValorRR 
=RR 
awaitRR !
_likesServicioRR" 0
.RR0 1
ContarLikesRR1 <
(RR< =
	idReseniaRR= F
)RRF G
;RRG H
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
rspVV 
.VV 
estadoVV 
=VV 
falseVV "
;VV" #
rspWW 
.WW 
mgsWW 
=WW 
exWW 
.WW 
MessageWW $
;WW$ %
}XX 
returnYY 
OkYY 
(YY 
rspYY 
)YY 
;YY 
}ZZ 	
[\\ 	

HttpDelete\\	 
]\\ 
[]] 	
Route]]	 
(]] 
$str]] ;
)]]; <
]]]< =
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
EliminarPorResenia^^) ;
(^^; <
string^^< B
	idResenia^^C L
,^^L M
string^^N T
	idPersona^^U ^
)^^^ _
{__ 	
var`` 
rsp`` 
=`` 
new`` 
	Respuesta`` #
<``# $
bool``$ (
>``( )
(``) *
)``* +
;``+ ,
tryaa 
{bb 
rspcc 
.cc 
estadocc 
=cc 
truecc !
;cc! "
rspdd 
.dd 
Valordd 
=dd 
awaitdd !
_likesServiciodd" 0
.dd0 1
EliminarPorReseniadd1 C
(ddC D
	idReseniaddD M
,ddM N
	idPersonaddO X
)ddX Y
;ddY Z
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
rsphh 
.hh 
estadohh 
=hh 
falsehh "
;hh" #
rspii 
.ii 
mgsii 
=ii 
exii 
.ii 
Messageii $
;ii$ %
}jj 
returnkk 
Okkk 
(kk 
rspkk 
)kk 
;kk 
}ll 	
}mm 
}nn áW
ÅC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\FotosPublicacionesController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class (
FotosPublicacionesController -
:. /
ControllerBase0 >
{ 
private 
readonly '
IFotosPublicacionesServicio 4'
_fotosPublicacionesServicio5 P
;P Q
public (
FotosPublicacionesController +
(+ ,'
IFotosPublicacionesServicio, G&
fotosPublicacionesServicioH b
)b c
{ 	'
_fotosPublicacionesServicio '
=( )&
fotosPublicacionesServicio* D
;D E
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )!
FotosPublicacionesDTO) >
>> ?
>? @
(@ A
)A B
;B C
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !'
_fotosPublicacionesServicio" =
.= >
Listar> D
(D E
)E F
;F G
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $!
FotosPublicacionesDTO))$ 9
>))9 :
()): ;
))); <
;))< =
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !'
_fotosPublicacionesServicio--" =
.--= >
Buscar--> D
(--D E
id--E G
)--G H
;--H I
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpGet77	 
]77 
[88 	
Route88	 
(88 
$str88 ,
)88, -
]88- .
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' ("
BuscarFotosPublicacion99) ?
(99? @
string99@ F
id99G I
)99I J
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
List;;$ (
<;;( )!
FotosPublicacionesDTO;;) >
>;;> ?
>;;? @
(;;@ A
);;A B
;;;B C
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !'
_fotosPublicacionesServicio??" =
.??= >"
BuscarFotosPublicacion??> T
(??T U
id??U W
)??W X
;??X Y
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpGetII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ .
)JJ. /
]JJ/ 0
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' ()
ObtenerIdNuevaFotoPublicacionKK) F
(KKF G
)KKG H
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
stringMM$ *
>MM* +
(MM+ ,
)MM, -
;MM- .
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !'
_fotosPublicacionesServicioQQ" =
.QQ= >)
ObtenerIdNuevaFotoPublicacionQQ> [
(QQ[ \
)QQ\ ]
;QQ] ^
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	
HttpPost[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\ 
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Guardar]]) 0
(]]0 1
[]]1 2
FromBody]]2 :
]]]: ;!
FotosPublicacionesDTO]]< Q
fotosPublicaciones]]R d
)]]d e
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $!
FotosPublicacionesDTO__$ 9
>__9 :
(__: ;
)__; <
;__< =
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !'
_fotosPublicacionesServiciocc" =
.cc= >
Crearcc> C
(ccC D
fotosPublicacionesccD V
)ccV W
;ccW X
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
[mm 	
HttpPutmm	 
]mm 
[nn 	
Routenn	 
(nn 
$strnn 
)nn 
]nn 
publicoo 
asyncoo 
Taskoo 
<oo 
IActionResultoo '
>oo' (
Editaroo) /
(oo/ 0
[oo0 1
FromBodyoo1 9
]oo9 :!
FotosPublicacionesDTOoo; P
fotosPublicacionesooQ c
)ooc d
{pp 	
varqq 
rspqq 
=qq 
newqq 
	Respuestaqq #
<qq# $
boolqq$ (
>qq( )
(qq) *
)qq* +
;qq+ ,
tryrr 
{ss 
rsptt 
.tt 
estadott 
=tt 
truett !
;tt! "
rspuu 
.uu 
Valoruu 
=uu 
awaituu !'
_fotosPublicacionesServiciouu" =
.uu= >
Editaruu> D
(uuD E
fotosPublicacionesuuE W
)uuW X
;uuX Y
}vv 
catchww 
(ww 
	Exceptionww 
exww 
)ww  
{xx 
rspyy 
.yy 
estadoyy 
=yy 
falseyy "
;yy" #
rspzz 
.zz 
mgszz 
=zz 
exzz 
.zz 
Messagezz $
;zz$ %
}{{ 
return|| 
Ok|| 
(|| 
rsp|| 
)|| 
;|| 
}}} 	
[ 	

HttpDelete	 
] 
[
ÄÄ 	
Route
ÄÄ	 
(
ÄÄ 
$str
ÄÄ 
)
ÄÄ 
]
ÄÄ  
public
ÅÅ 
async
ÅÅ 
Task
ÅÅ 
<
ÅÅ 
IActionResult
ÅÅ '
>
ÅÅ' (
Eliminar
ÅÅ) 1
(
ÅÅ1 2
string
ÅÅ2 8
id
ÅÅ9 ;
)
ÅÅ; <
{
ÇÇ 	
var
ÉÉ 
rsp
ÉÉ 
=
ÉÉ 
new
ÉÉ 
	Respuesta
ÉÉ #
<
ÉÉ# $
bool
ÉÉ$ (
>
ÉÉ( )
(
ÉÉ) *
)
ÉÉ* +
;
ÉÉ+ ,
try
ÑÑ 
{
ÖÖ 
rsp
ÜÜ 
.
ÜÜ 
estado
ÜÜ 
=
ÜÜ 
true
ÜÜ !
;
ÜÜ! "
rsp
áá 
.
áá 
Valor
áá 
=
áá 
await
áá !)
_fotosPublicacionesServicio
áá" =
.
áá= >
Eliminar
áá> F
(
ááF G
id
ááG I
)
ááI J
;
ááJ K
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 
rsp
ãã 
.
ãã 
estado
ãã 
=
ãã 
false
ãã "
;
ãã" #
rsp
åå 
.
åå 
mgs
åå 
=
åå 
ex
åå 
.
åå 
Message
åå $
;
åå$ %
}
çç 
return
éé 
Ok
éé 
(
éé 
rsp
éé 
)
éé 
;
éé 
}
èè 	
}
êê 
}ëë ∂5
xC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\FavoritosController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
FavoritosController $
:% &
ControllerBase' 5
{ 
private 
readonly 
IFavoritosServicio +
_favoritosServicio, >
;> ?
public 
FavoritosController "
(" #
IFavoritosServicio# 5
favoritosServicio6 G
)G H
{ 	
_favoritosServicio 
=  
favoritosServicio! 2
;2 3
} 	
[ 	
HttpPost	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Crear) .
(. /
[/ 0
FromBody0 8
]8 9
FavoritosDTO: F
modeloG M
)M N
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
FavoritosDTO$ 0
>0 1
(1 2
)2 3
;3 4
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_favoritosServicio" 4
.4 5
Crear5 :
(: ;
modelo; A
)A B
;B C
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp 
. 
mgs 
= 
ex 
. 
Message $
;$ %
}   
return!! 
Ok!! 
(!! 
rsp!! 
)!! 
;!! 
}"" 	
[$$ 	
HttpGet$$	 
]$$ 
[%% 	
Route%%	 
(%% 
$str%% &
)%%& '
]%%' (
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
BuscarPorUsuario&&) 9
(&&9 :
string&&: @
id&&A C
)&&C D
{'' 	
var(( 
rsp(( 
=(( 
new(( 
	Respuesta(( #
<((# $
List(($ (
<((( )
FavoritosDTO(() 5
>((5 6
>((6 7
(((7 8
)((8 9
;((9 :
try)) 
{** 
rsp++ 
.++ 
estado++ 
=++ 
true++ !
;++! "
rsp,, 
.,, 
Valor,, 
=,, 
await,, !
_favoritosServicio,," 4
.,,4 5
BuscarPorUsuario,,5 E
(,,E F
id,,F H
),,H I
;,,I J
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
rsp00 
.00 
estado00 
=00 
false00 "
;00" #
rsp11 
.11 
mgs11 
=11 
ex11 
.11 
Message11 $
;11$ %
}22 
return33 
Ok33 
(33 
rsp33 
)33 
;33 
}44 	
[66 	

HttpDelete66	 
]66 
[77 	
Route77	 
(77 
$str77 G
)77G H
]77H I
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (&
EliminarUsuarioPublicacion88) C
(88C D
string88D J
	idUsuario88K T
,88T U
string88V \
idPublicacion88] j
)88j k
{99 	
var:: 
rsp:: 
=:: 
new:: 
	Respuesta:: #
<::# $
bool::$ (
>::( )
(::) *
)::* +
;::+ ,
try;; 
{<< 
rsp== 
.== 
estado== 
=== 
true== !
;==! "
rsp>> 
.>> 
Valor>> 
=>> 
await>> !
_favoritosServicio>>" 4
.>>4 5&
EliminarUsuarioPublicacion>>5 O
(>>O P
	idUsuario>>P Y
,>>Y Z
idPublicacion>>[ h
)>>h i
;>>i j
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
rspBB 
.BB 
estadoBB 
=BB 
falseBB "
;BB" #
rspCC 
.CC 
mgsCC 
=CC 
exCC 
.CC 
MessageCC $
;CC$ %
}DD 
returnEE 
OkEE 
(EE 
rspEE 
)EE 
;EE 
}FF 	
[HH 	
HttpGetHH	 
]HH 
[II 	
RouteII	 
(II 
$strII >
)II> ?
]II? @
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
IActionResultJJ '
>JJ' (
VerificarFavoritoJJ) :
(JJ: ;
stringJJ; A
	idUsuarioJJB K
,JJK L
stringJJM S
idPublicacionJJT a
)JJa b
{KK 	
varLL 
rspLL 
=LL 
newLL 
	RespuestaLL #
<LL# $
boolLL$ (
>LL( )
(LL) *
)LL* +
;LL+ ,
tryMM 
{NN 
rspOO 
.OO 
estadoOO 
=OO 
trueOO !
;OO! "
rspPP 
.PP 
ValorPP 
=PP 
awaitPP !
_favoritosServicioPP" 4
.PP4 5
VerificarFavoritoPP5 F
(PPF G
	idUsuarioPPG P
,PPP Q
idPublicacionPPR _
)PP_ `
;PP` a
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
rspTT 
.TT 
estadoTT 
=TT 
falseTT "
;TT" #
rspUU 
.UU 
mgsUU 
=UU 
exUU 
.UU 
MessageUU $
;UU$ %
}VV 
returnWW 
OkWW 
(WW 
rspWW 
)WW 
;WW 
}XX 	
}YY 
}ZZ  =
vC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\EstadosController.cs
	namespace 	
API
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
EstadosController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IEstadosServicio )
_estadosServicio* :
;: ;
public 
EstadosController  
(  !
IEstadosServicio! 1
estadosServicio2 A
)A B
{ 	
_estadosServicio 
= 
estadosServicio .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )

EstadosDTO) 3
>3 4
>4 5
(5 6
)6 7
;7 8
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_estadosServicio" 2
.2 3
Listar3 9
(9 :
): ;
;; <
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp   
.   
estado   
=   
false   "
;  " #
rsp!! 
.!! 
mgs!! 
=!! 
ex!! 
.!! 
Message!! $
;!!$ %
}"" 
return## 
Ok## 
(## 
rsp## 
)## 
;## 
}$$ 	
[&& 	
HttpGet&&	 
]&& 
['' 	
Route''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Buscar(() /
(((/ 0
string((0 6
id((7 9
)((9 :
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $

EstadosDTO**$ .
>**. /
(**/ 0
)**0 1
;**1 2
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !
_estadosServicio.." 2
...2 3
Buscar..3 9
(..9 :
id..: <
)..< =
;..= >
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Guardar::) 0
(::0 1
[::1 2
FromBody::2 :
]::: ;

EstadosDTO::< F
estados::G N
)::N O
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $

EstadosDTO<<$ .
><<. /
(<</ 0
)<<0 1
;<<1 2
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !
_estadosServicio@@" 2
.@@2 3
Crear@@3 8
(@@8 9
estados@@9 @
)@@@ A
;@@A B
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
[JJ 	
HttpPutJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK 
)KK 
]KK 
publicLL 
asyncLL 
TaskLL 
<LL 
IActionResultLL '
>LL' (
EditarLL) /
(LL/ 0
[LL0 1
FromBodyLL1 9
]LL9 :

EstadosDTOLL; E
estadosLLF M
)LLM N
{MM 	
varNN 
rspNN 
=NN 
newNN 
	RespuestaNN #
<NN# $
boolNN$ (
>NN( )
(NN) *
)NN* +
;NN+ ,
tryOO 
{PP 
rspQQ 
.QQ 
estadoQQ 
=QQ 
trueQQ !
;QQ! "
rspRR 
.RR 
ValorRR 
=RR 
awaitRR !
_estadosServicioRR" 2
.RR2 3
EditarRR3 9
(RR9 :
estadosRR: A
)RRA B
;RRB C
}SS 
catchTT 
(TT 
	ExceptionTT 
exTT 
)TT  
{UU 
rspVV 
.VV 
estadoVV 
=VV 
falseVV "
;VV" #
rspWW 
.WW 
mgsWW 
=WW 
exWW 
.WW 
MessageWW $
;WW$ %
}XX 
returnYY 
OkYY 
(YY 
rspYY 
)YY 
;YY 
}ZZ 	
[\\ 	

HttpDelete\\	 
]\\ 
[]] 	
Route]]	 
(]] 
$str]] 
)]] 
]]]  
public^^ 
async^^ 
Task^^ 
<^^ 
IActionResult^^ '
>^^' (
Eliminar^^) 1
(^^1 2
string^^2 8
id^^9 ;
)^^; <
{__ 	
var`` 
rsp`` 
=`` 
new`` 
	Respuesta`` #
<``# $
bool``$ (
>``( )
(``) *
)``* +
;``+ ,
tryaa 
{bb 
rspcc 
.cc 
estadocc 
=cc 
truecc !
;cc! "
rspdd 
.dd 
Valordd 
=dd 
awaitdd !
_estadosServiciodd" 2
.dd2 3
Eliminardd3 ;
(dd; <
iddd< >
)dd> ?
;dd? @
}ee 
catchff 
(ff 
	Exceptionff 
exff 
)ff  
{gg 
rsphh 
.hh 
estadohh 
=hh 
falsehh "
;hh" #
rspii 
.ii 
mgsii 
=ii 
exii 
.ii 
Messageii $
;ii$ %
}jj 
returnkk 
Okkk 
(kk 
rspkk 
)kk 
;kk 
}ll 	
}mm 
}nn Ÿ>
|C:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\EstadoReporteController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class #
EstadoReporteController (
:) *
ControllerBase+ 9
{ 
private 
readonly "
IEstadoReporteServicio /"
_estadoReporteServicio0 F
;F G
public #
EstadoReporteController &
(& '"
IEstadoReporteServicio' =!
estadoReporteServicio> S
)S T
{ 	"
_estadoReporteServicio "
=# $!
estadoReporteServicio% :
;: ;
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
EstadosReporteDTO) :
>: ;
>; <
(< =
)= >
;> ?
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !"
_estadoReporteServicio" 8
.8 9
Listar9 ?
(? @
)@ A
;A B
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpGet%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
Buscar'') /
(''/ 0
string''0 6
id''7 9
)''9 :
{(( 	
var)) 
rsp)) 
=)) 
new)) 
	Respuesta)) #
<))# $
EstadosReporteDTO))$ 5
>))5 6
())6 7
)))7 8
;))8 9
try** 
{++ 
rsp,, 
.,, 
estado,, 
=,, 
true,, !
;,,! "
rsp-- 
.-- 
Valor-- 
=-- 
await-- !"
_estadoReporteServicio--" 8
.--8 9
Buscar--9 ?
(--? @
id--@ B
)--B C
;--C D
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
rsp11 
.11 
estado11 
=11 
false11 "
;11" #
rsp22 
.22 
mgs22 
=22 
ex22 
.22 
Message22 $
;22$ %
}33 
return44 
Ok44 
(44 
rsp44 
)44 
;44 
}55 	
[77 	
HttpPost77	 
]77 
[88 	
Route88	 
(88 
$str88 
)88 
]88 
public99 
async99 
Task99 
<99 
IActionResult99 '
>99' (
Guardar99) 0
(990 1
[991 2
FromBody992 :
]99: ;
EstadosReporteDTO99< M
estadoReporte99N [
)99[ \
{:: 	
var;; 
rsp;; 
=;; 
new;; 
	Respuesta;; #
<;;# $
EstadosReporteDTO;;$ 5
>;;5 6
(;;6 7
);;7 8
;;;8 9
try<< 
{== 
rsp>> 
.>> 
estado>> 
=>> 
true>> !
;>>! "
rsp?? 
.?? 
Valor?? 
=?? 
await?? !"
_estadoReporteServicio??" 8
.??8 9
Crear??9 >
(??> ?
estadoReporte??? L
)??L M
;??M N
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
rspCC 
.CC 
estadoCC 
=CC 
falseCC "
;CC" #
rspDD 
.DD 
mgsDD 
=DD 
exDD 
.DD 
MessageDD $
;DD$ %
}EE 
returnFF 
OkFF 
(FF 
rspFF 
)FF 
;FF 
}GG 	
[II 	
HttpPutII	 
]II 
[JJ 	
RouteJJ	 
(JJ 
$strJJ 
)JJ 
]JJ 
publicKK 
asyncKK 
TaskKK 
<KK 
IActionResultKK '
>KK' (
EditarKK) /
(KK/ 0
[KK0 1
FromBodyKK1 9
]KK9 :
EstadosReporteDTOKK; L
estadoReporteKKM Z
)KKZ [
{LL 	
varMM 
rspMM 
=MM 
newMM 
	RespuestaMM #
<MM# $
boolMM$ (
>MM( )
(MM) *
)MM* +
;MM+ ,
tryNN 
{OO 
rspPP 
.PP 
estadoPP 
=PP 
truePP !
;PP! "
rspQQ 
.QQ 
ValorQQ 
=QQ 
awaitQQ !"
_estadoReporteServicioQQ" 8
.QQ8 9
EditarQQ9 ?
(QQ? @
estadoReporteQQ@ M
)QQM N
;QQN O
}RR 
catchSS 
(SS 
	ExceptionSS 
exSS 
)SS  
{TT 
rspUU 
.UU 
estadoUU 
=UU 
falseUU "
;UU" #
rspVV 
.VV 
mgsVV 
=VV 
exVV 
.VV 
MessageVV $
;VV$ %
}WW 
returnXX 
OkXX 
(XX 
rspXX 
)XX 
;XX 
}YY 	
[[[ 	

HttpDelete[[	 
][[ 
[\\ 	
Route\\	 
(\\ 
$str\\ 
)\\ 
]\\  
public]] 
async]] 
Task]] 
<]] 
IActionResult]] '
>]]' (
Eliminar]]) 1
(]]1 2
string]]2 8
id]]9 ;
)]]; <
{^^ 	
var__ 
rsp__ 
=__ 
new__ 
	Respuesta__ #
<__# $
bool__$ (
>__( )
(__) *
)__* +
;__+ ,
try`` 
{aa 
rspbb 
.bb 
estadobb 
=bb 
truebb !
;bb! "
rspcc 
.cc 
Valorcc 
=cc 
awaitcc !"
_estadoReporteServiciocc" 8
.cc8 9
Eliminarcc9 A
(ccA B
idccB D
)ccD E
;ccE F
}dd 
catchee 
(ee 
	Exceptionee 
exee 
)ee  
{ff 
rspgg 
.gg 
estadogg 
=gg 
falsegg "
;gg" #
rsphh 
.hh 
mgshh 
=hh 
exhh 
.hh 
Messagehh $
;hh$ %
}ii 
returnjj 
Okjj 
(jj 
rspjj 
)jj 
;jj 
}kk 	
}ll 
}mm ¢ 
zC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\ContactanosController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class !
ContactanosController &
:' (
ControllerBase) 7
{ 
private 
readonly  
IContactanosServicio - 
_contactanosServicio. B
;B C
public !
ContactanosController $
($ % 
IContactanosServicio% 9
contactanosServicio: M
)M N
{ 	 
_contactanosServicio  
=! "
contactanosServicio# 6
;6 7
} 	
[ 	
HttpPost	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Guardar) 0
(0 1
[1 2
FromBody2 :
]: ;
ContactanosDTO< J
contactoK S
)S T
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
ContactanosDTO$ 2
>2 3
(3 4
)4 5
;5 6
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await ! 
_contactanosServicio" 6
.6 7
Crear7 <
(< =
contacto= E
)E F
;F G
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp   
.   
mgs   
=   
ex   
.   
Message   $
;  $ %
}!! 
return"" 
Ok"" 
("" 
rsp"" 
)"" 
;"" 
}## 	
[%% 	
HttpPost%%	 
]%% 
[&& 	
Route&&	 
(&& 
$str&& 
)&& 
]&& 
public'' 
async'' 
Task'' 
<'' 
IActionResult'' '
>''' (
EnviarCorreo'') 5
(''5 6
[''6 7
FromBody''7 ?
]''? @"
EnviarCorreoSoporteDTO''A W
datos''X ]
)''] ^
{(( 	
try)) 
{** 
bool++ 
	resultado++ 
=++  
await++! & 
_contactanosServicio++' ;
.++; <
EnviarCorreo++< H
(++H I
datos,, 
.,, 
CorreoDestino,, '
,,,' (
datos-- 
.-- 
Asunto--  
,--  !
datos.. 
... 
Mensaje.. !
,..! "
datos// 
.// 
Razon// 
,//  
datos00 
.00 
CorreoRespuesta00 )
)11 
;11 
return33 
Ok33 
(33 
new33 
{44 
estado55 
=55 
	resultado55 &
,55& '
mensaje66 
=66 
$str66 <
}77 
)77 
;77 
}88 
catch99 
(99 
	Exception99 
ex99 
)99  
{:: 
return;; 

StatusCode;; !
(;;! "
$num;;" %
,;;% &
new;;' *
{<< 
estado== 
=== 
false== "
,==" #
mensaje>> 
=>> 
ex>>  
.>>  !
Message>>! (
}?? 
)?? 
;?? 
}@@ 
}AA 	
}CC 
}DD Æ)
ÇC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\CodigosVerificacionController.cs
	namespace 	
API
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class )
CodigosVerificacionController .
:/ 0
ControllerBase1 ?
{ 
private 
readonly (
ICodigosVerificacionServicio 5(
_codigosVerificacionServicio6 R
;R S
public )
CodigosVerificacionController ,
(, -(
ICodigosVerificacionServicio- I'
codigosVerificacionServicioJ e
)e f
{ 	(
_codigosVerificacionServicio (
=) *'
codigosVerificacionServicio+ F
;F G
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )"
CodigosVerificacionDTO) ?
>? @
>@ A
(A B
)B C
;C D
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !(
_codigosVerificacionServicio" >
.> ?
Listar? E
(E F
)F G
;G H
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp   
.   
estado   
=   
false   "
;  " #
rsp!! 
.!! 
mgs!! 
=!! 
ex!! 
.!! 
Message!! $
;!!$ %
}"" 
return## 
Ok## 
(## 
rsp## 
)## 
;## 
}$$ 	
[&& 	
HttpGet&&	 
]&& 
['' 	
Route''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Buscar(() /
(((/ 0
string((0 6
id((7 9
)((9 :
{)) 	
var** 
rsp** 
=** 
new** 
	Respuesta** #
<**# $"
CodigosVerificacionDTO**$ :
>**: ;
(**; <
)**< =
;**= >
try++ 
{,, 
rsp-- 
.-- 
estado-- 
=-- 
true-- !
;--! "
rsp.. 
... 
Valor.. 
=.. 
await.. !(
_codigosVerificacionServicio.." >
...> ?
Buscar..? E
(..E F
id..F H
)..H I
;..I J
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
rsp22 
.22 
estado22 
=22 
false22 "
;22" #
rsp33 
.33 
mgs33 
=33 
ex33 
.33 
Message33 $
;33$ %
}44 
return55 
Ok55 
(55 
rsp55 
)55 
;55 
}66 	
[88 	
HttpPost88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
public:: 
async:: 
Task:: 
<:: 
IActionResult:: '
>::' (
Guardar::) 0
(::0 1
[::1 2
FromBody::2 :
]::: ;"
CodigosVerificacionDTO::< R
codigosVerificacion::S f
)::f g
{;; 	
var<< 
rsp<< 
=<< 
new<< 
	Respuesta<< #
<<<# $"
CodigosVerificacionDTO<<$ :
><<: ;
(<<; <
)<<< =
;<<= >
try== 
{>> 
rsp?? 
.?? 
estado?? 
=?? 
true?? !
;??! "
rsp@@ 
.@@ 
Valor@@ 
=@@ 
await@@ !(
_codigosVerificacionServicio@@" >
.@@> ?
Crear@@? D
(@@D E
codigosVerificacion@@E X
)@@X Y
;@@Y Z
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
rspDD 
.DD 
estadoDD 
=DD 
falseDD "
;DD" #
rspEE 
.EE 
mgsEE 
=EE 
exEE 
.EE 
MessageEE $
;EE$ %
}FF 
returnGG 
OkGG 
(GG 
rspGG 
)GG 
;GG 
}HH 	
}II 
}JJ ŸI
sC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\ChatController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class 
ChatController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IChatServicio &
_chatServicio' 4
;4 5
public 
ChatController 
( 
IChatServicio +
chatServicio, 8
)8 9
{ 	
_chatServicio 
= 
chatServicio (
;( )
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )
ChatDTO) 0
>0 1
>1 2
(2 3
)3 4
;4 5
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !
_chatServicio" /
./ 0
Listar0 6
(6 7
)7 8
;8 9
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp 
. 
mgs 
= 
ex 
. 
Message $
;$ %
}   
return!! 
Ok!! 
(!! 
rsp!! 
)!! 
;!! 
}"" 	
[## 	
HttpGet##	 
]## 
[$$ 	
Route$$	 
($$ 
$str$$ 
)$$ 
]$$ 
public%% 
async%% 
Task%% 
<%% 
IActionResult%% '
>%%' (
Buscar%%) /
(%%/ 0
string%%0 6
id%%7 9
)%%9 :
{&& 	
var'' 
rsp'' 
='' 
new'' 
	Respuesta'' #
<''# $
ChatDTO''$ +
>''+ ,
('', -
)''- .
;''. /
try(( 
{)) 
rsp** 
.** 
estado** 
=** 
true** !
;**! "
rsp++ 
.++ 
Valor++ 
=++ 
await++ !
_chatServicio++" /
.++/ 0
Buscar++0 6
(++6 7
id++7 9
)++9 :
;++: ;
},, 
catch-- 
(-- 
	Exception-- 
ex-- 
)--  
{.. 
rsp// 
.// 
estado// 
=// 
false// "
;//" #
rsp00 
.00 
mgs00 
=00 
ex00 
.00 
Message00 $
;00$ %
}11 
return22 
Ok22 
(22 
rsp22 
)22 
;22 
}33 	
[44 	
HttpPost44	 
]44 
[55 	
Route55	 
(55 
$str55 
)55 
]55 
public66 
async66 
Task66 
<66 
IActionResult66 '
>66' (
Guardar66) 0
(660 1
[661 2
FromBody662 :
]66: ;
CrearChatDTO66< H
chat66I M
)66M N
{77 	
var88 
rsp88 
=88 
new88 
	Respuesta88 #
<88# $
ChatDTO88$ +
>88+ ,
(88, -
)88- .
;88. /
try99 
{:: 
rsp;; 
.;; 
estado;; 
=;; 
true;; !
;;;! "
rsp<< 
.<< 
Valor<< 
=<< 
await<< !
_chatServicio<<" /
.<</ 0
Crear<<0 5
(<<5 6
chat<<6 :
)<<: ;
;<<; <
}== 
catch>> 
(>> 
	Exception>> 
ex>> 
)>>  
{?? 
rsp@@ 
.@@ 
estado@@ 
=@@ 
false@@ "
;@@" #
rspAA 
.AA 
mgsAA 
=AA 
exAA 
.AA 
MessageAA $
;AA$ %
}BB 
returnCC 
OkCC 
(CC 
rspCC 
)CC 
;CC 
}DD 	
[EE 	

HttpDeleteEE	 
]EE 
[FF 	
RouteFF	 
(FF 
$strFF 
)FF 
]FF  
publicGG 
asyncGG 
TaskGG 
<GG 
IActionResultGG '
>GG' (
EliminarGG) 1
(GG1 2
stringGG2 8
idGG9 ;
)GG; <
{HH 	
varII 
rspII 
=II 
newII 
	RespuestaII #
<II# $
boolII$ (
>II( )
(II) *
)II* +
;II+ ,
tryJJ 
{KK 
rspLL 
.LL 
estadoLL 
=LL 
trueLL !
;LL! "
rspMM 
.MM 
ValorMM 
=MM 
awaitMM !
_chatServicioMM" /
.MM/ 0
EliminarMM0 8
(MM8 9
idMM9 ;
)MM; <
;MM< =
}NN 
catchOO 
(OO 
	ExceptionOO 
exOO 
)OO  
{PP 
rspQQ 
.QQ 
estadoQQ 
=QQ 
falseQQ "
;QQ" #
rspRR 
.RR 
mgsRR 
=RR 
exRR 
.RR 
MessageRR $
;RR$ %
}SS 
returnTT 
OkTT 
(TT 
rspTT 
)TT 
;TT 
}UU 	
[WW 	
HttpGetWW	 
]WW 
[XX 	
RouteXX	 
(XX 
$strXX /
)XX/ 0
]XX0 1
publicYY 
asyncYY 
TaskYY 
<YY 
IActionResultYY '
>YY' (
ListarPorIdPersonaYY) ;
(YY; <
stringYY< B
	idUsuarioYYC L
)YYL M
{ZZ 	
var[[ 
rsp[[ 
=[[ 
new[[ 
	Respuesta[[ #
<[[# $
List[[$ (
<[[( )
ChatDTO[[) 0
>[[0 1
>[[1 2
([[2 3
)[[3 4
;[[4 5
try\\ 
{]] 
rsp^^ 
.^^ 
estado^^ 
=^^ 
true^^ !
;^^! "
rsp__ 
.__ 
Valor__ 
=__ 
await__ !
_chatServicio__" /
.__/ 0
ListarPorIdPersona__0 B
(__B C
	idUsuario__C L
)__L M
;__M N
}`` 
catchaa 
(aa 
	Exceptionaa 
exaa 
)aa  
{bb 
rspcc 
.cc 
estadocc 
=cc 
falsecc "
;cc" #
rspdd 
.dd 
mgsdd 
=dd 
exdd 
.dd 
Messagedd $
;dd$ %
}ee 
returnff 
Okff 
(ff 
rspff 
)ff 
;ff 
}gg 	
[ii 	
HttpGetii	 
]ii 
[jj 	
Routejj	 
(jj 
$strjj B
)jjB C
]jjC D
publickk 
asynckk 
Taskkk 
<kk 
IActionResultkk '
>kk' (#
VerificarExistenciaChatkk) @
(kk@ A
stringkkA G

idUsuario1kkH R
,kkR S
stringkkT Z

idUsuario2kk[ e
)kke f
{ll 	
varmm 
rspmm 
=mm 
newmm 
	Respuestamm #
<mm# $
stringmm$ *
>mm* +
(mm+ ,
)mm, -
;mm- .
trynn 
{oo 
rsppp 
.pp 
estadopp 
=pp 
truepp !
;pp! "
rspqq 
.qq 
Valorqq 
=qq 
awaitqq !
_chatServicioqq" /
.qq/ 0#
VerificarExistenciaChatqq0 G
(qqG H

idUsuario1qqH R
,qqR S

idUsuario2qqT ^
)qq^ _
??qq` b
stringqqc i
.qqi j
Emptyqqj o
;qqo p
}rr 
catchss 
(ss 
	Exceptionss 
exss 
)ss  
{tt 
rspuu 
.uu 
estadouu 
=uu 
falseuu "
;uu" #
rspvv 
.vv 
mgsvv 
=vv 
exvv 
.vv 
Messagevv $
;vv$ %
}ww 
returnxx 
Okxx 
(xx 
rspxx 
)xx 
;xx 
}yy 	
}zz 
}{{ ˆ?
ÉC:\Users\kevin\Downloads\programacion\Proyecto web\Proyecto-UTrade\UTrade Backend\API\Controllers\CategoriaPublicacionController.cs
	namespace 	
API
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class *
CategoriaPublicacionController /
:0 1
ControllerBase2 @
{ 
private 
readonly )
ICategoriaPublicacionServicio 6)
_categoriaPublicacionServicio7 T
;T U
public *
CategoriaPublicacionController -
(- .)
ICategoriaPublicacionServicio. K(
categoriaPublicacionServicioL h
)h i
{ 	)
_categoriaPublicacionServicio )
=* +(
categoriaPublicacionServicio, H
;H I
} 	
[ 	
HttpGet	 
] 
[ 	
Route	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
listar) /
(/ 0
)0 1
{ 	
var 
rsp 
= 
new 
	Respuesta #
<# $
List$ (
<( )#
CategoriaPublicacionDTO) @
>@ A
>A B
(B C
)C D
;D E
try 
{ 
rsp 
. 
estado 
= 
true !
;! "
rsp 
. 
Valor 
= 
await !)
_categoriaPublicacionServicio" ?
.? @
Listar@ F
(F G
)G H
;H I
} 
catch 
( 
	Exception 
ex 
)  
{ 
rsp 
. 
estado 
= 
false "
;" #
rsp 
. 
mgs 
= 
ex 
. 
Message $
;$ %
}   
return!! 
Ok!! 
(!! 
rsp!! 
)!! 
;!! 
}"" 	
[$$ 	
HttpGet$$	 
]$$ 
[%% 	
Route%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Buscar&&) /
(&&/ 0
string&&0 6
id&&7 9
)&&9 :
{'' 	
var(( 
rsp(( 
=(( 
new(( 
	Respuesta(( #
<((# $#
CategoriaPublicacionDTO(($ ;
>((; <
(((< =
)((= >
;((> ?
try)) 
{** 
rsp++ 
.++ 
estado++ 
=++ 
true++ !
;++! "
rsp,, 
.,, 
Valor,, 
=,, 
await,, !)
_categoriaPublicacionServicio,," ?
.,,? @
Buscar,,@ F
(,,F G
id,,G I
),,I J
;,,J K
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
rsp00 
.00 
estado00 
=00 
false00 "
;00" #
rsp11 
.11 
mgs11 
=11 
ex11 
.11 
Message11 $
;11$ %
}22 
return33 
Ok33 
(33 
rsp33 
)33 
;33 
}44 	
[66 	
HttpPost66	 
]66 
[77 	
Route77	 
(77 
$str77 
)77 
]77 
public88 
async88 
Task88 
<88 
IActionResult88 '
>88' (
Guardar88) 0
(880 1
[881 2
FromBody882 :
]88: ;#
CategoriaPublicacionDTO88< S 
categoriaPublicacion88T h
)88h i
{99 	
var:: 
rsp:: 
=:: 
new:: 
	Respuesta:: #
<::# $#
CategoriaPublicacionDTO::$ ;
>::; <
(::< =
)::= >
;::> ?
try;; 
{<< 
rsp== 
.== 
estado== 
=== 
true== !
;==! "
rsp>> 
.>> 
Valor>> 
=>> 
await>> !)
_categoriaPublicacionServicio>>" ?
.>>? @
Crear>>@ E
(>>E F 
categoriaPublicacion>>F Z
)>>Z [
;>>[ \
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
rspBB 
.BB 
estadoBB 
=BB 
falseBB "
;BB" #
rspCC 
.CC 
mgsCC 
=CC 
exCC 
.CC 
MessageCC $
;CC$ %
}DD 
returnEE 
OkEE 
(EE 
rspEE 
)EE 
;EE 
}FF 	
[HH 	
HttpPutHH	 
]HH 
[II 	
RouteII	 
(II 
$strII 
)II 
]II 
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
IActionResultJJ '
>JJ' (
EditarJJ) /
(JJ/ 0
[JJ0 1
FromBodyJJ1 9
]JJ9 :#
CategoriaPublicacionDTOJJ; R 
categoriaPublicacionJJS g
)JJg h
{KK 	
varLL 
rspLL 
=LL 
newLL 
	RespuestaLL #
<LL# $
boolLL$ (
>LL( )
(LL) *
)LL* +
;LL+ ,
tryMM 
{NN 
rspOO 
.OO 
estadoOO 
=OO 
trueOO !
;OO! "
rspPP 
.PP 
ValorPP 
=PP 
awaitPP !)
_categoriaPublicacionServicioPP" ?
.PP? @
EditarPP@ F
(PPF G 
categoriaPublicacionPPG [
)PP[ \
;PP\ ]
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
rspTT 
.TT 
estadoTT 
=TT 
falseTT "
;TT" #
rspUU 
.UU 
mgsUU 
=UU 
exUU 
.UU 
MessageUU $
;UU$ %
}VV 
returnWW 
OkWW 
(WW 
rspWW 
)WW 
;WW 
}XX 	
[ZZ 	

HttpDeleteZZ	 
]ZZ 
[[[ 	
Route[[	 
([[ 
$str[[ 
)[[ 
][[  
public\\ 
async\\ 
Task\\ 
<\\ 
IActionResult\\ '
>\\' (
Eliminar\\) 1
(\\1 2
string\\2 8
id\\9 ;
)\\; <
{]] 	
var^^ 
rsp^^ 
=^^ 
new^^ 
	Respuesta^^ #
<^^# $
bool^^$ (
>^^( )
(^^) *
)^^* +
;^^+ ,
try__ 
{`` 
rspaa 
.aa 
estadoaa 
=aa 
trueaa !
;aa! "
rspbb 
.bb 
Valorbb 
=bb 
awaitbb !)
_categoriaPublicacionServiciobb" ?
.bb? @
Eliminarbb@ H
(bbH I
idbbI K
)bbK L
;bbL M
}cc 
catchdd 
(dd 
	Exceptiondd 
exdd 
)dd  
{ee 
rspff 
.ff 
estadoff 
=ff 
falseff "
;ff" #
rspgg 
.gg 
mgsgg 
=gg 
exgg 
.gg 
Messagegg $
;gg$ %
}hh 
returnii 
Okii 
(ii 
rspii 
)ii 
;ii 
}jj 	
}kk 
}ll 
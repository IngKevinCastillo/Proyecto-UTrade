<div class="p-4">
  <h4 class="mb-4">VISTA PREVIA</h4>

  <mat-card class="mb-4">
    <mat-card-content>
      <div class="d-flex align-items-center mb-3">
        <app-user-profile [username]="username" [userHandle]="userHandle" [avatarUrl]="userAvatar"></app-user-profile>
        <div class="ms-2">
          <div>{{ previewUsername }}</div>
          <small class="text-muted">{{ fechaActual }} / {{ tiempoTranscurrido }}</small>
        </div>
        <div class="ms-auto text-muted">
          <mat-icon>location_on</mat-icon> Ubicación
        </div>
      </div>

      <h5>{{ title || "Título" }}</h5>
      <h6>{{ price || "PRECIO" }} / {{ category || "CATEGORÍA" }}</h6>
      <h6>{{direccion || "DIRECCION"}}</h6>
      <p class="text-muted">{{ description || "Descripción" }}</p>

      <div class="row mb-3">
        <div *ngFor="let imgUrl of previewUrls" class="col-6 mb-2">
          <div class="bg-light rounded" style="height: 100px; overflow: hidden">
            <img [src]="imgUrl" class="w-100 h-100 object-fit-cover" />
          </div>
        </div>
      </div>

      <div class="d-flex align-items-center">
        <button mat-icon-button>
          <mat-icon>thumb_up</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>chat_bubble_outline</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>share</mat-icon>
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <div class="d-flex justify-content-end mt-3">
    <button mat-raised-button color="accent" [disabled]="!puedePublicar" (click)="publicar()"
      [title]="!puedePublicar ? 'Completa todos los campos requeridos y agrega al menos 1 foto' : 'Publicar anuncio'">
      Publicar
    </button>
  </div>

  <div *ngIf="!puedePublicar" class="mt-2">
    <small class="text-danger">
      <mat-icon style="font-size: 16px; vertical-align: middle;">info</mat-icon>
      Completa todos los campos requeridos (*) y agrega al menos 1 foto para publicar
    </small>
  </div>
</div>